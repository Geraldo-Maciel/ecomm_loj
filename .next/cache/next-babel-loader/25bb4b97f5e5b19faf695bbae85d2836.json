{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"F:\\\\APLICACAO\\\\lojavirtual\\\\containers\\\\Checkout\\\\CheckoutButton.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport actions from '../../redux/actions';\nimport { getCart } from '../../utils/cart';\nimport { validateCPF } from '../../utils/validate';\nimport AlertGeral from '../../components/Alert/Geral';\n\nvar CheckoutButton = /*#__PURE__*/function (_Component) {\n  _inherits(CheckoutButton, _Component);\n\n  var _super = _createSuper(CheckoutButton);\n\n  function CheckoutButton() {\n    var _this;\n\n    _classCallCheck(this, CheckoutButton);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      disabled: false,\n      aviso: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleDisabled\", function () {\n      return _this.setState({\n        disabled: !_this.state.disabled\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(CheckoutButton, [{\n    key: \"calcularValorTotal\",\n    value: function calcularValorTotal(carrinho, freteSelecionado) {\n      var valorProdutos = carrinho.reduce(function (all, item) {\n        return all + Number(item.precoUnitario) * Number(item.quantidade);\n      }, 0);\n      var valorFrete = Number(freteSelecionado.Valor.replace(',', '.'));\n      return valorProdutos + valorFrete;\n    }\n  }, {\n    key: \"validarFormulario\",\n    value: function validarFormulario() {\n      var _this$props$form = this.props.form,\n          nome = _this$props$form.nome,\n          CPF = _this$props$form.CPF,\n          dataDeNascimento = _this$props$form.dataDeNascimento,\n          telefone = _this$props$form.telefone,\n          local = _this$props$form.local,\n          numero = _this$props$form.numero,\n          bairro = _this$props$form.bairro,\n          cidade = _this$props$form.cidade,\n          estado = _this$props$form.estado,\n          CEP = _this$props$form.CEP,\n          dadosCobranca = _this$props$form.dadosCobranca,\n          dadosEntregaIgualDadosCobranca = _this$props$form.dadosEntregaIgualDadosCobranca,\n          CPFboleto = _this$props$form.CPFboleto,\n          numeroCartao = _this$props$form.numeroCartao,\n          nomeCartao = _this$props$form.nomeCartao,\n          mesCartao = _this$props$form.mesCartao,\n          anoCartao = _this$props$form.anoCartao,\n          parcelasCartaoSelecionada = _this$props$form.parcelasCartaoSelecionada,\n          CVVCartao = _this$props$form.CVVCartao,\n          credit_card_token = _this$props$form.credit_card_token;\n      var tipoPagamentoSelecionado = this.props.tipoPagamentoSelecionado;\n      var temErro = false;\n      if (!nome) temErro = true;\n      if (!CPF || CPF.length !== 14) temErro = true;\n      if (CPF && CPF.length === 14 && !validateCPF(CPF)) temErro = true;\n      if (!dataDeNascimento || dataDeNascimento.length !== 10) temErro = true;\n      if (!telefone || telefone.length < 11) temErro = true;\n      if (!local) temErro = true;\n      if (!numero) temErro = true;\n      if (!bairro) temErro = true;\n      if (!cidade) temErro = true;\n      if (!estado) temErro = true;\n      if (!CEP || CEP.length !== 9) temErro = true;\n\n      if (!dadosEntregaIgualDadosCobranca) {\n        if (!dadosCobranca.local) temErro = true;\n        if (!dadosCobranca.numero) temErro = true;\n        if (!dadosCobranca.bairro) temErro = true;\n        if (!dadosCobranca.cidade) temErro = true;\n        if (!dadosCobranca.estado) temErro = true;\n        if (!dadosCobranca.CEP || dadosCobranca.CEP.length !== 9) temErro = true;\n      }\n\n      if (tipoPagamentoSelecionado === \"boleto\") {\n        if (!CPFboleto && !CPF) temErro = true;\n        if (CPFboleto && CPFboleto.length !== 14 && !validateCPF(CPFboleto)) temErro = true;\n      } else {\n        if (!numeroCartao || numeroCartao.length !== 19) temErro = true;\n        if (!nomeCartao) temErro = true;\n        if (!mesCartao || mesCartao.length !== 2) temErro = true;\n        if (!anoCartao || anoCartao.length !== 4) temErro = true;\n        if (!parcelasCartaoSelecionada) temErro = true;\n        if (!credit_card_token) temErro = true;\n        if (!CVVCartao || CVVCartao.length !== 3) temErro = true;\n      }\n\n      return !temErro;\n    }\n  }, {\n    key: \"validate\",\n    value: function validate() {\n      var _this$props = this.props,\n          freteSelecionado = _this$props.freteSelecionado,\n          tipoPagamentoSelecionado = _this$props.tipoPagamentoSelecionado;\n      var validarFormulario = this.validarFormulario();\n      return validarFormulario && freteSelecionado && tipoPagamentoSelecionado;\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          form = _this$props2.form,\n          freteSelecionado = _this$props2.freteSelecionado,\n          token = _this$props2.token,\n          senderHash = _this$props2.senderHash,\n          tipoPagamentoSelecionado = _this$props2.tipoPagamentoSelecionado;\n      console.log(freteSelecionado, tipoPagamentoSelecionado);\n      var carrinho = getCart(); //        const valorTotal = this.calcularValorTotal(carrinho, freteSelecionado);\n\n      var valorTotal = 230;\n      if (!this.validate()) return null;\n      this.toggleDisabled();\n      this.props.novoPedido(form, freteSelecionado, tipoPagamentoSelecionado, valorTotal, token, senderHash, carrinho, function (error) {\n        console.log('pedido finalizado');\n\n        if (error) {\n          _this2.setState({\n            aviso: {\n              status: false,\n              message: error.message\n            }\n          });\n        }\n\n        _this2.toggleDisabled();\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return __jsx(\"div\", {\n        className: \"flex flex-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }\n      }, __jsx(AlertGeral, {\n        aviso: this.state.aviso,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 17\n        }\n      }), __jsx(\"button\", {\n        className: \"btn btn-cta btn-success\",\n        disabled: this.state.disabled,\n        onClick: function onClick() {\n          return _this3.handleSubmit();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 17\n        }\n      }, __jsx(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }\n      }, this.state.disabled ? \"ENVIANDO...\" : \"CONCLUIR PEDIDO\")));\n    }\n  }]);\n\n  return CheckoutButton;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    carrinho: state.carrinho.carrinho,\n    usuario: state.auth.usuario,\n    cliente: state.cliente.cliente,\n    freteSelecionado: state.carrinho.freteSelecionado,\n    form: state.checkout.form,\n    token: state.auth.token,\n    senderHash: state.checkout.senderHash,\n    tipoPagamentoSelecionado: state.checkout.tipoPagamentoSelecionado\n  };\n};\n\nexport default connect(mapStateToProps, actions)(CheckoutButton);","map":{"version":3,"sources":["F:/APLICACAO/lojavirtual/containers/Checkout/CheckoutButton.js"],"names":["React","Component","connect","actions","getCart","validateCPF","AlertGeral","CheckoutButton","disabled","aviso","setState","state","carrinho","freteSelecionado","valorProdutos","reduce","all","item","Number","precoUnitario","quantidade","valorFrete","Valor","replace","props","form","nome","CPF","dataDeNascimento","telefone","local","numero","bairro","cidade","estado","CEP","dadosCobranca","dadosEntregaIgualDadosCobranca","CPFboleto","numeroCartao","nomeCartao","mesCartao","anoCartao","parcelasCartaoSelecionada","CVVCartao","credit_card_token","tipoPagamentoSelecionado","temErro","length","validarFormulario","token","senderHash","console","log","valorTotal","validate","toggleDisabled","novoPedido","error","status","message","handleSubmit","mapStateToProps","usuario","auth","cliente","checkout"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport actions from '../../redux/actions';\r\nimport { getCart } from '../../utils/cart';\r\nimport { validateCPF } from '../../utils/validate';\r\nimport AlertGeral from '../../components/Alert/Geral';\r\n\r\nclass CheckoutButton extends Component {\r\n    state = { \r\n        disabled: false, \r\n        aviso: null \r\n    }\r\n\r\n    toggleDisabled = () => this.setState({ disabled: !this.state.disabled });\r\n\r\n    calcularValorTotal(carrinho, freteSelecionado){\r\n        const valorProdutos = carrinho.reduce(\r\n                            (all, item) => \r\n                            all + (Number(item.precoUnitario) * Number(item.quantidade)) , 0\r\n                        );\r\n        const valorFrete = Number(freteSelecionado.Valor.replace(',','.'));\r\n        return valorProdutos + valorFrete;\r\n    }\r\n\r\n    validarFormulario(){\r\n        const {  \r\n            nome, CPF, dataDeNascimento, telefone,\r\n            local, numero, bairro, cidade, estado, CEP,\r\n            dadosCobranca, dadosEntregaIgualDadosCobranca,\r\n            CPFboleto,\r\n            numeroCartao, nomeCartao, mesCartao, anoCartao, parcelasCartaoSelecionada, CVVCartao,\r\n            credit_card_token\r\n        } = this.props.form;\r\n        const { tipoPagamentoSelecionado } = this.props;\r\n\r\n        let temErro = false;\r\n\r\n        if(!nome) temErro = true;\r\n        if(!CPF || CPF.length !== 14) temErro = true;\r\n        if(CPF && CPF.length === 14 && !validateCPF(CPF)) temErro = true;\r\n        if(!dataDeNascimento || dataDeNascimento.length !== 10) temErro = true;\r\n        if(!telefone || telefone.length < 11) temErro = true;\r\n\r\n        if(!local) temErro = true;\r\n        if(!numero) temErro = true;\r\n        if(!bairro) temErro = true;\r\n        if(!cidade) temErro = true;\r\n        if(!estado) temErro = true;\r\n        if(!CEP || CEP.length !== 9) temErro = true;\r\n\r\n        if(!dadosEntregaIgualDadosCobranca){\r\n            if(!dadosCobranca.local) temErro = true;\r\n            if(!dadosCobranca.numero) temErro = true;\r\n            if(!dadosCobranca.bairro) temErro = true;\r\n            if(!dadosCobranca.cidade) temErro = true;\r\n            if(!dadosCobranca.estado) temErro = true;\r\n            if(!dadosCobranca.CEP || dadosCobranca.CEP.length !== 9) temErro = true;\r\n        }\r\n\r\n        if(tipoPagamentoSelecionado === \"boleto\"){\r\n            if(!CPFboleto && !CPF) temErro = true;\r\n            if(CPFboleto && CPFboleto.length !== 14 && !validateCPF(CPFboleto)) temErro = true;\r\n        } else {\r\n            if(!numeroCartao || numeroCartao.length !== 19) temErro = true;\r\n            if(!nomeCartao) temErro = true;\r\n            if(!mesCartao || mesCartao.length !== 2) temErro = true;\r\n            if(!anoCartao || anoCartao.length !== 4) temErro = true;\r\n            if(!parcelasCartaoSelecionada) temErro = true;\r\n            if(!credit_card_token) temErro = true;\r\n            if(!CVVCartao || CVVCartao.length !== 3) temErro = true;\r\n        }\r\n\r\n        return !temErro;\r\n    }\r\n\r\n    validate(){\r\n        const { freteSelecionado, tipoPagamentoSelecionado } = this.props;\r\n        const validarFormulario = this.validarFormulario();\r\n        return validarFormulario && freteSelecionado && tipoPagamentoSelecionado;\r\n    }\r\n\r\n    handleSubmit(){\r\n        const {\r\n            form, freteSelecionado, token, senderHash, tipoPagamentoSelecionado\r\n        } = this.props;\r\n        console.log(freteSelecionado, tipoPagamentoSelecionado);\r\n        const carrinho = getCart();\r\n//        const valorTotal = this.calcularValorTotal(carrinho, freteSelecionado);\r\n        const valorTotal = 230;\r\n\r\n        if(!this.validate()) return null;\r\n        this.toggleDisabled();\r\n        this.props.novoPedido(\r\n            form, freteSelecionado, tipoPagamentoSelecionado, \r\n            valorTotal, token, senderHash, carrinho, (error) => {\r\n                console.log('pedido finalizado');\r\n                if(error){\r\n                    this.setState({ aviso: { status:false, message: error.message } })\r\n                }\r\n                this.toggleDisabled();\r\n            }\r\n        )\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div className=\"flex flex-right\">\r\n                <AlertGeral aviso={this.state.aviso} />\r\n                <button \r\n                    className=\"btn btn-cta btn-success\"\r\n                    disabled={this.state.disabled}\r\n                    onClick={() => this.handleSubmit()} >\r\n                    <span>{ \r\n                        this.state.disabled ? \r\n                        \"ENVIANDO...\" : \r\n                        \"CONCLUIR PEDIDO\"\r\n                    }</span>\r\n                </button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    carrinho: state.carrinho.carrinho,\r\n    usuario: state.auth.usuario,\r\n    cliente: state.cliente.cliente,\r\n    freteSelecionado: state.carrinho.freteSelecionado,\r\n    form: state.checkout.form,\r\n    token: state.auth.token,\r\n    senderHash: state.checkout.senderHash,\r\n    tipoPagamentoSelecionado: state.checkout.tipoPagamentoSelecionado\r\n});\r\n\r\nexport default connect(mapStateToProps, actions)(CheckoutButton);"]},"metadata":{},"sourceType":"module"}