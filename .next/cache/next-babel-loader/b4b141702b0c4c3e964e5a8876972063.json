{"ast":null,"code":"var _jsxFileName = \"F:\\\\APLICACAO\\\\lojavirtual\\\\containers\\\\Carrinho\\\\ListaDeProdutos.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { baseImg } from '../../config';\nimport { formatMoney } from '../../utils';\nimport { connect } from 'react-redux';\nimport actions from '../../redux/actions';\nimport { addCart } from '../../utils/cart';\n\nclass ListaDeProdutos extends Component {\n  renderCabecalhoCarrinho(semAlteracoes) {\n    return __jsx(\"div\", {\n      className: \"carrinho-cabecalho no-mb-flex flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      className: \"flex-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 17\n      }\n    }), __jsx(\"div\", {\n      className: \"headline flex-1 flex flex-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 17\n      }\n    }, __jsx(\"h3\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 21\n      }\n    }, \"Quantidade\")), __jsx(\"div\", {\n      className: \"headline flex-1 flex flex-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 17\n      }\n    }, __jsx(\"h3\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 21\n      }\n    }, \"Pre\\xE7o Unit\\xE1rio\")), __jsx(\"div\", {\n      className: \"headline flex-1 flex flex-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 17\n      }\n    }, __jsx(\"h3\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 21\n      }\n    }, \"Pre\\xE7o Total\")), !semAlteracoes && __jsx(\"div\", {\n      className: \"flex-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 38\n      }\n    }));\n  }\n\n  changeQuantidade(e, quantidade, item, index) {\n    if (Number(e.target.value) < 1) return;\n    let novaQuantidade = Number(e.target.value);\n    let change = novaQuantidade - quantidade;\n\n    if (novaQuantidade >= item.variacao.quantidade) {\n      return alert(\"Não temos essa quantidade em estoque.\");\n    }\n\n    addCart({\n      produto: item.produto._id,\n      variacao: item.variacao._id,\n      quantidade: change,\n      precoUnitario: item.precoUnitario\n    }, false);\n    this.props.updateQuantidade(change, index);\n  }\n\n  removerProdutoCarrinho(index) {\n    if (window.confirm(\"Você deseja realmente remover esse produto?\")) {\n      this.props.removerProduto(index);\n    }\n  }\n\n  renderProduto(item, semAlteracoes, index) {\n    if (!item.variacao || !item.variacao._id || !item.produto || !item.produto._id) return null;\n    const foto = item.variacao.fotos && item.variacao.fotos.length > 0 ? item.variacao.fotos[0] : item.produto.fotos[0];\n    const nome = item.produto.titulo + \" - \" + item.variacao.nome;\n    const {\n      quantidade,\n      precoUnitario\n    } = item;\n    return __jsx(\"div\", {\n      key: index,\n      className: \"carrinho-item flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      className: \"flex-4 flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      className: \"produto-image flex-2 flex flex-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    }, __jsx(\"img\", {\n      src: baseImg + foto,\n      alt: nome,\n      width: \"100px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 25\n      }\n    })), __jsx(\"div\", {\n      className: \"produto-titulo flex-4 flex flex-start\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }\n    }, __jsx(\"h3\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 25\n      }\n    }, nome))), __jsx(\"div\", {\n      className: \"flex-1 flex flex-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }, semAlteracoes ? __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 26\n      }\n    }, quantidade) : __jsx(\"input\", {\n      type: \"number\",\n      value: quantidade,\n      className: \"produto-quantidade\",\n      onChange: e => this.changeQuantidade(e, quantidade, item, index),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 26\n      }\n    })), __jsx(\"div\", {\n      className: \"flex-1 flex flex-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }\n    }, formatMoney(precoUnitario))), __jsx(\"div\", {\n      className: \"flex-1 flex flex-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }, __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }\n    }, formatMoney(precoUnitario * quantidade))), !semAlteracoes && __jsx(\"div\", {\n      className: \"flex-1 flex flex-center\",\n      onClick: () => this.removerProdutoCarrinho(index),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }, __jsx(\"span\", {\n      className: \"btn-remover\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 25\n      }\n    }, \"Remover\")));\n  }\n\n  renderProdutos(semAlteracoes) {\n    return this.props.carrinho.map((item, index) => this.renderProduto(item, semAlteracoes, index));\n  }\n\n  render() {\n    const {\n      semAlteracoes,\n      carrinho\n    } = this.props;\n    return __jsx(\"div\", {\n      className: \"Lista-De-Produtos flex vertical\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }\n    }, this.renderCabecalhoCarrinho(semAlteracoes), carrinho && this.renderProdutos(semAlteracoes));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  carrinho: state.carrinho.carrinho\n});\n\nexport default connect(mapStateToProps, actions)(ListaDeProdutos);","map":{"version":3,"sources":["F:/APLICACAO/lojavirtual/containers/Carrinho/ListaDeProdutos.js"],"names":["React","Component","baseImg","formatMoney","connect","actions","addCart","ListaDeProdutos","renderCabecalhoCarrinho","semAlteracoes","changeQuantidade","e","quantidade","item","index","Number","target","value","novaQuantidade","change","variacao","alert","produto","_id","precoUnitario","props","updateQuantidade","removerProdutoCarrinho","window","confirm","removerProduto","renderProduto","foto","fotos","length","nome","titulo","renderProdutos","carrinho","map","render","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { baseImg } from '../../config';\r\nimport { formatMoney } from '../../utils';\r\nimport { connect } from 'react-redux';\r\nimport actions from '../../redux/actions';\r\nimport { addCart } from '../../utils/cart';\r\n\r\nclass ListaDeProdutos extends Component {\r\n\r\n    renderCabecalhoCarrinho(semAlteracoes){\r\n        return (\r\n            <div className=\"carrinho-cabecalho no-mb-flex flex\">\r\n                <div className=\"flex-4\"></div>\r\n                <div className=\"headline flex-1 flex flex-center\">\r\n                    <h3 className=\"text-center\">Quantidade</h3>\r\n                </div>\r\n                <div className=\"headline flex-1 flex flex-center\">\r\n                    <h3 className=\"text-center\">Preço Unitário</h3>\r\n                </div>\r\n                <div className=\"headline flex-1 flex flex-center\">\r\n                    <h3 className=\"text-center\">Preço Total</h3>\r\n                </div>\r\n                { !semAlteracoes && (<div className=\"flex-1\"></div>) }\r\n            </div>\r\n        )\r\n    }\r\n\r\n    changeQuantidade(e, quantidade, item, index){\r\n        if(Number(e.target.value) < 1) return;\r\n        let novaQuantidade = Number(e.target.value);\r\n        let change = novaQuantidade - quantidade;\r\n        if( novaQuantidade >= item.variacao.quantidade ){\r\n            return alert(\"Não temos essa quantidade em estoque.\");\r\n        }\r\n        addCart({\r\n            produto: item.produto._id,\r\n            variacao: item.variacao._id,\r\n            quantidade: change,\r\n            precoUnitario: item.precoUnitario\r\n        }, false);\r\n        this.props.updateQuantidade(change, index);\r\n    }\r\n\r\n    removerProdutoCarrinho(index){\r\n        if(window.confirm(\"Você deseja realmente remover esse produto?\")){\r\n            this.props.removerProduto(index);\r\n        }\r\n    }\r\n\r\n    renderProduto(item, semAlteracoes, index){\r\n        if(\r\n            !item.variacao || !item.variacao._id || \r\n            !item.produto || !item.produto._id\r\n        ) return null;\r\n        \r\n        const foto = item.variacao.fotos && item.variacao.fotos.length > 0 ? \r\n                            item.variacao.fotos[0] : \r\n                            item.produto.fotos[0];\r\n        const nome = item.produto.titulo + \" - \" + item.variacao.nome;\r\n        const { quantidade, precoUnitario } = item;\r\n        \r\n        return (\r\n            <div key={index} className=\"carrinho-item flex\">\r\n                <div className=\"flex-4 flex\">\r\n                    <div className=\"produto-image flex-2 flex flex-center\">\r\n                        <img src={baseImg + foto} alt={nome} width=\"100px\" />\r\n                    </div>\r\n                    <div className=\"produto-titulo flex-4 flex flex-start\">\r\n                        <h3 className=\"text-center\">{nome}</h3>\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex-1 flex flex-center\">\r\n                    {\r\n                        semAlteracoes ?\r\n                        (<span>{quantidade}</span>) :\r\n                        (<input \r\n                            type=\"number\" value={quantidade} \r\n                            className=\"produto-quantidade\" \r\n                            onChange={(e) => this.changeQuantidade(e, quantidade, item, index)}\r\n                        />)\r\n                    }\r\n                </div>\r\n                <div className=\"flex-1 flex flex-center\">\r\n                    <span>{formatMoney(precoUnitario)}</span>\r\n                </div>\r\n                <div className=\"flex-1 flex flex-center\">\r\n                    <span>{formatMoney(precoUnitario * quantidade)}</span>\r\n                </div>\r\n                { !semAlteracoes && (\r\n                    <div \r\n                        className=\"flex-1 flex flex-center\"\r\n                        onClick={() => this.removerProdutoCarrinho(index)} >\r\n                        <span className=\"btn-remover\">Remover</span>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    renderProdutos(semAlteracoes){\r\n        return this.props.carrinho.map((item, index) => this.renderProduto(item, semAlteracoes, index))\r\n    }\r\n\r\n    render(){\r\n        const { semAlteracoes, carrinho } = this.props;\r\n        return (\r\n            <div className=\"Lista-De-Produtos flex vertical\">\r\n                { this.renderCabecalhoCarrinho(semAlteracoes) }\r\n                { carrinho && this.renderProdutos(semAlteracoes) }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    carrinho: state.carrinho.carrinho\r\n});\r\n\r\nexport default connect(mapStateToProps, actions)(ListaDeProdutos);"]},"metadata":{},"sourceType":"module"}