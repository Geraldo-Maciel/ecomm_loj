{"ast":null,"code":"const errorHandling = error => {\n  console.log(error, error.response ? error.response.data : null);\n\n  if (!error.response || !error.response.data) {\n    return {\n      status: 500,\n      message: \"Ocorreu um erro no servidor. Tente novamente.\"\n    };\n  }\n\n  if (error.response.data.status === 401) {\n    return {\n      status: 401,\n      message: \"Você não tem autorização para acessar esses dados.\"\n    };\n  }\n\n  const _errors = error.response.data.errors || error.response.data.error;\n\n  if (_errors && typeof _errors === \"string\") return {\n    status: 400,\n    message: _errors\n  };\n  let msg = 'Erro: ';\n\n  if (!Array.isArray(_errors)) {\n    Object.keys(_errors).forEach((erro, index) => {\n      msg += `${erro} ${_errors[erro].message || _errors[erro]}\\n`;\n    });\n  } else {\n    msg += `Preencha corretamente ${_errors.length > 1 ? \"os campos \" : \"o campo \"} de:`;\n\n    _errors.forEach((item, index) => {\n      const field = item.field[item.field.length - 1];\n      msg += ` ${field}${index === _errors.length - 1 ? \".\" : \",\"}`;\n    });\n  }\n\n  return {\n    status: 400,\n    message: msg\n  };\n};\n\nexport default errorHandling;","map":{"version":3,"sources":["F:/APLICACAO/lojavirtual/redux/actions/errorHandling.js"],"names":["errorHandling","error","console","log","response","data","status","message","_errors","errors","msg","Array","isArray","Object","keys","forEach","erro","index","length","item","field"],"mappings":"AAAA,MAAMA,aAAa,GAAIC,KAAD,IAAW;AAC7BC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,EAAmBA,KAAK,CAACG,QAAN,GAAiBH,KAAK,CAACG,QAAN,CAAeC,IAAhC,GAAuC,IAA1D;;AACA,MAAG,CAACJ,KAAK,CAACG,QAAP,IAAmB,CAACH,KAAK,CAACG,QAAN,CAAeC,IAAtC,EAA2C;AACvC,WAAO;AAAEC,MAAAA,MAAM,EAAE,GAAV;AAAeC,MAAAA,OAAO,EAAE;AAAxB,KAAP;AACH;;AACD,MAAGN,KAAK,CAACG,QAAN,CAAeC,IAAf,CAAoBC,MAApB,KAA+B,GAAlC,EAAsC;AAClC,WAAO;AAAEA,MAAAA,MAAM,EAAE,GAAV;AAAeC,MAAAA,OAAO,EAAE;AAAxB,KAAP;AACH;;AAED,QAAMC,OAAO,GAAGP,KAAK,CAACG,QAAN,CAAeC,IAAf,CAAoBI,MAApB,IAA8BR,KAAK,CAACG,QAAN,CAAeC,IAAf,CAAoBJ,KAAlE;;AACA,MAAGO,OAAO,IAAI,OAAOA,OAAP,KAAmB,QAAjC,EAA2C,OAAO;AAAEF,IAAAA,MAAM,EAAE,GAAV;AAAeC,IAAAA,OAAO,EAAEC;AAAxB,GAAP;AAE3C,MAAIE,GAAG,GAAG,QAAV;;AACA,MAAG,CAACC,KAAK,CAACC,OAAN,CAAcJ,OAAd,CAAJ,EAA2B;AACvBK,IAAAA,MAAM,CAACC,IAAP,CAAYN,OAAZ,EAAqBO,OAArB,CAA6B,CAACC,IAAD,EAAOC,KAAP,KAAiB;AAC1CP,MAAAA,GAAG,IAAK,GAAEM,IAAK,IAAGR,OAAO,CAACQ,IAAD,CAAP,CAAcT,OAAd,IAAyBC,OAAO,CAACQ,IAAD,CAAO,IAAzD;AACH,KAFD;AAGH,GAJD,MAIO;AACHN,IAAAA,GAAG,IAAK,yBAAyBF,OAAO,CAACU,MAAR,GAAiB,CAAjB,GAAqB,YAArB,GAAmC,UAAY,MAAhF;;AACAV,IAAAA,OAAO,CAACO,OAAR,CAAgB,CAACI,IAAD,EAAOF,KAAP,KAAiB;AAC7B,YAAMG,KAAK,GAAGD,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACC,KAAL,CAAWF,MAAX,GAAoB,CAA/B,CAAd;AACAR,MAAAA,GAAG,IAAK,IAAGU,KAAM,GAAEH,KAAK,KAAKT,OAAO,CAACU,MAAR,GAAiB,CAA3B,GAA+B,GAA/B,GAAqC,GAAI,EAA5D;AACH,KAHD;AAIH;;AACD,SAAO;AAAEZ,IAAAA,MAAM,EAAE,GAAV;AAAeC,IAAAA,OAAO,EAAEG;AAAxB,GAAP;AACH,CAzBD;;AA2BA,eAAeV,aAAf","sourcesContent":["const errorHandling = (error) => {\r\n    console.log(error, error.response ? error.response.data : null);\r\n    if(!error.response || !error.response.data){\r\n        return { status: 500, message: \"Ocorreu um erro no servidor. Tente novamente.\" };\r\n    }\r\n    if(error.response.data.status === 401){\r\n        return { status: 401, message: \"Você não tem autorização para acessar esses dados.\" };\r\n    }\r\n\r\n    const _errors = error.response.data.errors || error.response.data.error;\r\n    if(_errors && typeof _errors === \"string\") return { status: 400, message: _errors };\r\n\r\n    let msg = 'Erro: ';\r\n    if(!Array.isArray(_errors)){\r\n        Object.keys(_errors).forEach((erro, index) => {\r\n            msg += `${erro} ${_errors[erro].message || _errors[erro]}\\n`;\r\n        });\r\n    } else {\r\n        msg += `Preencha corretamente ${ _errors.length > 1 ? \"os campos \": \"o campo \" } de:`;\r\n        _errors.forEach((item, index) => {\r\n            const field = item.field[item.field.length - 1];\r\n            msg += ` ${field}${index === _errors.length - 1 ? \".\" : \",\"}`;\r\n        })\r\n    }\r\n    return { status: 400, message: msg };\r\n}\r\n\r\nexport default errorHandling;"]},"metadata":{},"sourceType":"module"}