{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { SET_CARRINHO, CLEAN_CARRINHO, FETCH_PRODUTO_CARRINHO, FETCH_VARIACAO_CARRINHO, FETCH_VALOR_ENTREGA, UPDATE_QTD_CART, UPDATE_FRETE_CART, REMOVE_PROD_CART, CLEAN_FRETES } from '../types';\nconst initialState = {\n  carrinho: null\n};\nexport default ((state = initialState, action) => {\n  switch (action.type) {\n    case SET_CARRINHO:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        carrinho: action.carrinho\n      });\n\n    case CLEAN_CARRINHO:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        carrinho: null,\n        freteSelecionado: null,\n        fretes: null,\n        cep: null\n      });\n\n    case FETCH_PRODUTO_CARRINHO:\n      if (!action.payload.produto) return state;\n      return _objectSpread(_objectSpread({}, state), {}, {\n        carrinho: state.carrinho ? state.carrinho.map((item, index) => {\n          return action.idxCarrinho == index ? _objectSpread(_objectSpread({}, item), {}, {\n            produto: action.payload.produto\n          }) : item;\n        }) : []\n      });\n\n    case FETCH_VARIACAO_CARRINHO:\n      if (!action.payload.variacao) return state;\n      return _objectSpread(_objectSpread({}, state), {}, {\n        carrinho: state.carrinho ? state.carrinho.map((item, index) => {\n          return action.idxCarrinho == index ? _objectSpread(_objectSpread({}, item), {}, {\n            variacao: action.payload.variacao\n          }) : item;\n        }) : []\n      });\n\n    case FETCH_VALOR_ENTREGA:\n      //            console.log('fetch-valor-entrega-payload: ', action.payload);\n      //            console.log('fetch-valor-entrega-fretes: ', action.payload.resultados);\n      //            console.log('fetch-valor-entrega-freteselecionadao: ', action.payload.resultados[0]);\n      //            console.log('fetch-valor-entrega-freteselecionadao: cep: ', action.cep);\n      return _objectSpread(_objectSpread({}, state), {}, {\n        fretes: action.payload.resultados,\n        freteSelecionado: action.payload.resultados[0],\n        cep: action.cep\n      });\n\n    case UPDATE_QTD_CART:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        carrinho: state.carrinho ? state.carrinho.map((item, index) => {\n          return action.idxCarrinho == index ? _objectSpread(_objectSpread({}, item), {}, {\n            quantidade: Number(item.quantidade) + Number(action.change)\n          }) : item;\n        }) : []\n      });\n\n    case REMOVE_PROD_CART:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        carrinho: state.carrinho.reduce((all, item, index) => index !== action.idxCarrinho ? all.concat([item]) : all, [])\n      });\n\n    case UPDATE_FRETE_CART:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        freteSelecionado: action.freteSelecionado\n      });\n\n    case CLEAN_FRETES:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        freteSelecionado: null,\n        fretes: null,\n        cep: null\n      });\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["F:/ASSESSOR_ECO/ECO_LOJ/redux/reducers/carrinhoReducers.js"],"names":["SET_CARRINHO","CLEAN_CARRINHO","FETCH_PRODUTO_CARRINHO","FETCH_VARIACAO_CARRINHO","FETCH_VALOR_ENTREGA","UPDATE_QTD_CART","UPDATE_FRETE_CART","REMOVE_PROD_CART","CLEAN_FRETES","initialState","carrinho","state","action","type","freteSelecionado","fretes","cep","payload","produto","map","item","index","idxCarrinho","variacao","resultados","quantidade","Number","change","reduce","all","concat"],"mappings":"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","sourcesContent":["import {\r\n    SET_CARRINHO,\r\n    CLEAN_CARRINHO,\r\n    FETCH_PRODUTO_CARRINHO,\r\n    FETCH_VARIACAO_CARRINHO,\r\n    FETCH_VALOR_ENTREGA,\r\n    UPDATE_QTD_CART,\r\n    UPDATE_FRETE_CART,\r\n    REMOVE_PROD_CART,\r\n    CLEAN_FRETES\r\n} from '../types';\r\n\r\nconst initialState = { carrinho: null };\r\n\r\nexport default (state = initialState, action) => {\r\n    switch(action.type){\r\n        case SET_CARRINHO:\r\n            return {\r\n                ...state,\r\n                carrinho: action.carrinho\r\n            }\r\n        case CLEAN_CARRINHO:\r\n            return {\r\n                ...state,\r\n                carrinho: null,\r\n                freteSelecionado: null,\r\n                fretes: null,\r\n                cep: null\r\n            }\r\n        case FETCH_PRODUTO_CARRINHO:\r\n            if(!action.payload.produto) return state;\r\n            return {\r\n                ...state,\r\n                carrinho: state.carrinho ? state.carrinho.map((item, index) => {\r\n                    return ( action.idxCarrinho == index ) ?\r\n                        { ...item, produto: action.payload.produto } :\r\n                        item\r\n                }) : []\r\n            }\r\n        case FETCH_VARIACAO_CARRINHO:\r\n            if(!action.payload.variacao) return state;\r\n            return {\r\n                ...state,\r\n                carrinho: state.carrinho ? state.carrinho.map((item, index) => {\r\n                    return ( action.idxCarrinho == index ) ?\r\n                        { ...item, variacao: action.payload.variacao } :\r\n                        item\r\n                }) : []\r\n            }\r\n        case FETCH_VALOR_ENTREGA:\r\n//            console.log('fetch-valor-entrega-payload: ', action.payload);\r\n//            console.log('fetch-valor-entrega-fretes: ', action.payload.resultados);\r\n//            console.log('fetch-valor-entrega-freteselecionadao: ', action.payload.resultados[0]);\r\n//            console.log('fetch-valor-entrega-freteselecionadao: cep: ', action.cep);\r\n            return {\r\n                ...state,\r\n                fretes: action.payload.resultados,\r\n                freteSelecionado: action.payload.resultados[0],\r\n                cep: action.cep\r\n            }\r\n        case UPDATE_QTD_CART:\r\n            return {\r\n                ...state,\r\n                carrinho: state.carrinho ? state.carrinho.map((item, index) => {\r\n                    return ( action.idxCarrinho == index ) ?\r\n                        { \r\n                            ...item, \r\n                            quantidade: Number(item.quantidade) + Number(action.change)\r\n                        } :\r\n                        item\r\n                }) : []\r\n            }\r\n        case REMOVE_PROD_CART:\r\n            return {\r\n                ...state,\r\n                carrinho: state.carrinho.reduce(\r\n                        (all, item, index) => \r\n                        index !== action.idxCarrinho ? all.concat([item]) : all, []\r\n                    )\r\n            }\r\n        case UPDATE_FRETE_CART:\r\n            return {\r\n                ...state,\r\n                freteSelecionado: action.freteSelecionado\r\n            }\r\n        case CLEAN_FRETES:\r\n            return {\r\n                ...state,\r\n                freteSelecionado: null,\r\n                fretes: null,\r\n                cep: null\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}