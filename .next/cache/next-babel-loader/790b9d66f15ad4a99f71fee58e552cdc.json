{"ast":null,"code":"import axios from 'axios';\nimport { API, versao, loja } from '../../config';\nimport { getCart, removeCart, cleanCart } from '../../utils/cart';\nimport { SET_CARRINHO, CLEAN_CARRINHO, FETCH_PRODUTO_CARRINHO, FETCH_VARIACAO_CARRINHO, FETCH_VALOR_ENTREGA, UPDATE_QTD_CART, UPDATE_FRETE_CART, REMOVE_PROD_CART, CLEAN_FRETES } from '../types';\nexport const setCarrinho = () => ({\n  type: SET_CARRINHO,\n  carrinho: getCart()\n});\nexport const cleanCarrinho = () => {\n  //    console.log('limpar carrinho');\n  cleanCart();\n  return {\n    type: CLEAN_CARRINHO\n  };\n};\nexport const fetchProdutoCarrinho = (id, idxCarrinho) => dispatch => {\n  axios.get(`${API}/${versao}/api/produtos/${id}?loja=${loja}`).then(response => dispatch({\n    type: FETCH_PRODUTO_CARRINHO,\n    payload: response.data,\n    idxCarrinho\n  })).catch(e => console.log(e));\n};\nexport const fetchVariacoesCarrinho = (id, produto, idxCarrinho) => dispatch => {\n  console.log(id, produto, idxCarrinho, loja);\n  axios.get(`${API}/${versao}/api/variacoes/${id}?produto=${produto}&loja=${loja}`).then(response => dispatch({\n    type: FETCH_VARIACAO_CARRINHO,\n    payload: response.data,\n    idxCarrinho\n  })).catch(e => console.log('erro variacao: ', e));\n};\nexport const calcularFrete = (cep, carrinho) => dispatch => {\n  axios.post(`${API}/${versao}/api/entregas/calcular`, {\n    cep,\n    carrinho\n  }).then(response => dispatch({\n    type: FETCH_VALOR_ENTREGA,\n    payload: response.data,\n    cep\n  })).catch(e => console.log(e));\n};\nexport const removerProduto = index => {\n  removeCart(index);\n  return {\n    type: REMOVE_PROD_CART,\n    idxCarrinho: index\n  };\n};\nexport const updateQuantidade = (change, index) => ({\n  type: UPDATE_QTD_CART,\n  change,\n  idxCarrinho: index\n});\nexport const selecionarFrete = freteSelecionado => ({\n  type: UPDATE_FRETE_CART,\n  freteSelecionado\n});\nexport const cleanFretes = () => ({\n  type: CLEAN_FRETES\n});\nexport default {\n  setCarrinho,\n  cleanCarrinho,\n  fetchProdutoCarrinho,\n  fetchVariacoesCarrinho,\n  calcularFrete,\n  updateQuantidade,\n  selecionarFrete,\n  removerProduto,\n  cleanFretes\n};","map":{"version":3,"sources":["F:/APLICACAO/lojavirtual/redux/actions/carrinhoActions.js"],"names":["axios","API","versao","loja","getCart","removeCart","cleanCart","SET_CARRINHO","CLEAN_CARRINHO","FETCH_PRODUTO_CARRINHO","FETCH_VARIACAO_CARRINHO","FETCH_VALOR_ENTREGA","UPDATE_QTD_CART","UPDATE_FRETE_CART","REMOVE_PROD_CART","CLEAN_FRETES","setCarrinho","type","carrinho","cleanCarrinho","fetchProdutoCarrinho","id","idxCarrinho","dispatch","get","then","response","payload","data","catch","e","console","log","fetchVariacoesCarrinho","produto","calcularFrete","cep","post","removerProduto","index","updateQuantidade","change","selecionarFrete","freteSelecionado","cleanFretes"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport {API, versao, loja} from '../../config';\r\nimport {getCart, removeCart, cleanCart} from '../../utils/cart';\r\nimport {\r\n    SET_CARRINHO,\r\n    CLEAN_CARRINHO,\r\n    FETCH_PRODUTO_CARRINHO,\r\n    FETCH_VARIACAO_CARRINHO,\r\n    FETCH_VALOR_ENTREGA,\r\n    UPDATE_QTD_CART,\r\n    UPDATE_FRETE_CART,\r\n    REMOVE_PROD_CART,\r\n    CLEAN_FRETES\r\n} from '../types';\r\n\r\nexport const setCarrinho = () => ({type: SET_CARRINHO, carrinho: getCart()});\r\n\r\nexport const cleanCarrinho = () => {\r\n//    console.log('limpar carrinho');\r\n    cleanCart();\r\n    return {type: CLEAN_CARRINHO};\r\n};\r\n\r\nexport const fetchProdutoCarrinho = (id, idxCarrinho) => dispatch => {\r\n    axios.get(`${API}/${versao}/api/produtos/${id}?loja=${loja}`)\r\n    .then(response => dispatch({ \r\n            type: FETCH_PRODUTO_CARRINHO, \r\n            payload: response.data, \r\n            idxCarrinho \r\n    }))\r\n    .catch(e => console.log(e));\r\n};\r\n\r\nexport const fetchVariacoesCarrinho = (id, produto, idxCarrinho) => dispatch => {\r\n    console.log(id, produto, idxCarrinho, loja)\r\n    axios.get(`${API}/${versao}/api/variacoes/${id}?produto=${produto}&loja=${loja}`)\r\n    .then (response => dispatch({ \r\n            type: FETCH_VARIACAO_CARRINHO, \r\n            payload: response.data, \r\n            idxCarrinho \r\n    }))\r\n    .catch(e => console.log('erro variacao: ', e));\r\n};\r\n\r\nexport const calcularFrete = (cep, carrinho) => dispatch => {\r\n    axios.post(`${API}/${versao}/api/entregas/calcular`, {cep, carrinho})\r\n    .then (response => dispatch({ \r\n            type: FETCH_VALOR_ENTREGA, \r\n            payload: response.data, \r\n            cep\r\n    }))\r\n    .catch(e => console.log(e));\r\n};\r\n\r\nexport const removerProduto = (index) => {\r\n    removeCart(index);\r\n    return {type: REMOVE_PROD_CART, idxCarrinho: index};\r\n};\r\n\r\nexport const updateQuantidade = (change, index) => ({ \r\n                        type: UPDATE_QTD_CART, \r\n                        change, \r\n                        idxCarrinho: index \r\n                    });\r\n\r\nexport const selecionarFrete = (freteSelecionado) => ({\r\n                                type: UPDATE_FRETE_CART,\r\n                                freteSelecionado\r\n                            });   \r\n                            \r\nexport const cleanFretes = () => ({type: CLEAN_FRETES});\r\n\r\nexport default {\r\n    setCarrinho,\r\n    cleanCarrinho,\r\n    fetchProdutoCarrinho,\r\n    fetchVariacoesCarrinho,\r\n    calcularFrete,\r\n    updateQuantidade,\r\n    selecionarFrete,\r\n    removerProduto,\r\n    cleanFretes\r\n};"]},"metadata":{},"sourceType":"module"}