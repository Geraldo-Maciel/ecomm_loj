{"ast":null,"code":"import axios from 'axios';\nimport { API, versao, loja } from '../../config';\nimport { getCart, removeCart, cleanCart } from '../../utils/cart';\nimport { SET_CARRINHO, CLEAN_CARRINHO, FETCH_PRODUTO_CARRINHO, FETCH_VARIACAO_CARRINHO, FETCH_VALOR_ENTREGA, UPDATE_QTD_CART, UPDATE_FRETE_CART, REMOVE_PROD_CART, CLEAN_FRETES } from '../types';\nexport var setCarrinho = function setCarrinho() {\n  return {\n    type: SET_CARRINHO,\n    carrinho: getCart()\n  };\n};\nexport var cleanCarrinho = function cleanCarrinho() {\n  console.log('limpar carrinho');\n  cleanCart();\n  return {\n    type: CLEAN_CARRINHO\n  };\n};\nexport var fetchProdutoCarrinho = function fetchProdutoCarrinho(id, idxCarrinho) {\n  return function (dispatch) {\n    axios.get(\"\".concat(API, \"/\").concat(versao, \"/api/produtos/\").concat(id, \"?loja=\").concat(loja)).then(function (response) {\n      return dispatch({\n        type: FETCH_PRODUTO_CARRINHO,\n        payload: response.data,\n        idxCarrinho: idxCarrinho\n      });\n    })[\"catch\"](function (e) {\n      return console.log(e);\n    });\n  };\n};\nexport var fetchVariacoesCarrinho = function fetchVariacoesCarrinho(id, produto, idxCarrinho) {\n  return function (dispatch) {\n    axios.get(\"\".concat(API, \"/\").concat(versao, \"/api/variacoes/\").concat(id, \"?produto=\").concat(produto, \"&loja=\").concat(loja)).then(function (response) {\n      return dispatch({\n        type: FETCH_VARIACAO_CARRINHO,\n        payload: response.data,\n        idxCarrinho: idxCarrinho\n      });\n    })[\"catch\"](function (e) {\n      return console.log(e);\n    });\n  };\n};\nexport var calcularFrete = function calcularFrete(cep, carrinho) {\n  return function (dispatch) {\n    axios.post(\"\".concat(API, \"/\").concat(versao, \"/api/entregas/calcular\"), {\n      cep: cep,\n      carrinho: carrinho\n    }).then(function (response) {\n      return dispatch({\n        type: FETCH_VALOR_ENTREGA,\n        payload: response.data,\n        cep: cep\n      });\n    })[\"catch\"](function (e) {\n      return console.log(e);\n    });\n  };\n};\nexport var removerProduto = function removerProduto(index) {\n  removeCart(index);\n  return {\n    type: REMOVE_PROD_CART,\n    idxCarrinho: index\n  };\n};\nexport var updateQuantidade = function updateQuantidade(change, index) {\n  return {\n    type: UPDATE_QTD_CART,\n    change: change,\n    idxCarrinho: index\n  };\n};\nexport var selecionarFrete = function selecionarFrete(freteSelecionado) {\n  return {\n    type: UPDATE_FRETE_CART,\n    freteSelecionado: freteSelecionado\n  };\n};\nexport var cleanFretes = function cleanFretes() {\n  return {\n    type: CLEAN_FRETES\n  };\n};\nexport default {\n  setCarrinho: setCarrinho,\n  cleanCarrinho: cleanCarrinho,\n  fetchProdutoCarrinho: fetchProdutoCarrinho,\n  fetchVariacoesCarrinho: fetchVariacoesCarrinho,\n  calcularFrete: calcularFrete,\n  updateQuantidade: updateQuantidade,\n  selecionarFrete: selecionarFrete,\n  removerProduto: removerProduto,\n  cleanFretes: cleanFretes\n};","map":{"version":3,"sources":["F:/APLICACAO/lojavirtual/redux/actions/carrinhoActions.js"],"names":["axios","API","versao","loja","getCart","removeCart","cleanCart","SET_CARRINHO","CLEAN_CARRINHO","FETCH_PRODUTO_CARRINHO","FETCH_VARIACAO_CARRINHO","FETCH_VALOR_ENTREGA","UPDATE_QTD_CART","UPDATE_FRETE_CART","REMOVE_PROD_CART","CLEAN_FRETES","setCarrinho","type","carrinho","cleanCarrinho","console","log","fetchProdutoCarrinho","id","idxCarrinho","dispatch","get","then","response","payload","data","e","fetchVariacoesCarrinho","produto","calcularFrete","cep","post","removerProduto","index","updateQuantidade","change","selecionarFrete","freteSelecionado","cleanFretes"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport {API, versao, loja} from '../../config';\r\nimport {getCart, removeCart, cleanCart} from '../../utils/cart';\r\nimport {\r\n    SET_CARRINHO,\r\n    CLEAN_CARRINHO,\r\n    FETCH_PRODUTO_CARRINHO,\r\n    FETCH_VARIACAO_CARRINHO,\r\n    FETCH_VALOR_ENTREGA,\r\n    UPDATE_QTD_CART,\r\n    UPDATE_FRETE_CART,\r\n    REMOVE_PROD_CART,\r\n    CLEAN_FRETES\r\n} from '../types';\r\n\r\nexport const setCarrinho = () => ({type: SET_CARRINHO, carrinho: getCart()});\r\n\r\nexport const cleanCarrinho = () => {\r\n    console.log('limpar carrinho');\r\n    cleanCart();\r\n    return {type: CLEAN_CARRINHO};\r\n};\r\n\r\nexport const fetchProdutoCarrinho = (id, idxCarrinho) => dispatch => {\r\n    axios.get(`${API}/${versao}/api/produtos/${id}?loja=${loja}`)\r\n    .then(response => dispatch({ \r\n            type: FETCH_PRODUTO_CARRINHO, \r\n            payload: response.data, \r\n            idxCarrinho \r\n    }))\r\n    .catch(e => console.log(e));\r\n};\r\n\r\nexport const fetchVariacoesCarrinho = (id, produto, idxCarrinho) => dispatch => {\r\n    axios.get(`${API}/${versao}/api/variacoes/${id}?produto=${produto}&loja=${loja}`)\r\n    .then (response => dispatch({ \r\n            type: FETCH_VARIACAO_CARRINHO, \r\n            payload: response.data, \r\n            idxCarrinho \r\n    }))\r\n    .catch(e => console.log(e));\r\n};\r\n\r\nexport const calcularFrete = (cep, carrinho) => dispatch => {\r\n    axios.post(`${API}/${versao}/api/entregas/calcular`, {cep, carrinho})\r\n    .then (response => dispatch({ \r\n            type: FETCH_VALOR_ENTREGA, \r\n            payload: response.data, \r\n            cep\r\n    }))\r\n    .catch(e => console.log(e));\r\n};\r\n\r\nexport const removerProduto = (index) => {\r\n    removeCart(index);\r\n    return {type: REMOVE_PROD_CART, idxCarrinho: index};\r\n};\r\n\r\nexport const updateQuantidade = (change, index) => ({ \r\n                        type: UPDATE_QTD_CART, \r\n                        change, \r\n                        idxCarrinho: index \r\n                    });\r\n\r\nexport const selecionarFrete = (freteSelecionado) => ({\r\n                                type: UPDATE_FRETE_CART,\r\n                                freteSelecionado\r\n                            });   \r\n                            \r\nexport const cleanFretes = () => ({type: CLEAN_FRETES});\r\n\r\nexport default {\r\n    setCarrinho,\r\n    cleanCarrinho,\r\n    fetchProdutoCarrinho,\r\n    fetchVariacoesCarrinho,\r\n    calcularFrete,\r\n    updateQuantidade,\r\n    selecionarFrete,\r\n    removerProduto,\r\n    cleanFretes\r\n};"]},"metadata":{},"sourceType":"module"}