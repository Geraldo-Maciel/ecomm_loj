{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"F:\\\\APLICACAO\\\\lojavirtual\\\\containers\\\\Checkout\\\\SubmitDadosCliente.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport AlertGeral from '../../components/Alert/Geral';\nimport { validateCPF } from '../../utils/validate';\nimport { connect } from 'react-redux';\nimport actions from '../../redux/actions';\n\nvar SubmitDadosCliente = /*#__PURE__*/function (_Component) {\n  _inherits(SubmitDadosCliente, _Component);\n\n  var _super = _createSuper(SubmitDadosCliente);\n\n  function SubmitDadosCliente() {\n    var _this;\n\n    _classCallCheck(this, SubmitDadosCliente);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      aviso: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"callback\", function (error) {\n      if (!error) {\n        _this.props.permitir();\n\n        _this.setState({\n          aviso: null\n        });\n      } else {\n        _this.setState({\n          aviso: {\n            status: false,\n            message: error.message\n          }\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"validate\", function () {\n      var _this$props$form = _this.props.form,\n          email = _this$props$form.email,\n          senha = _this$props$form.senha,\n          nome = _this$props$form.nome,\n          CPF = _this$props$form.CPF,\n          dataDeNascimento = _this$props$form.dataDeNascimento,\n          telefone = _this$props$form.telefone,\n          local = _this$props$form.local,\n          numero = _this$props$form.numero,\n          bairro = _this$props$form.bairro,\n          cidade = _this$props$form.cidade,\n          estado = _this$props$form.estado,\n          CEP = _this$props$form.CEP;\n      var usuario = _this.props.usuario;\n      var temErro = false;\n      if (!usuario && !email) temErro = true;\n      if (!usuario && !senha) temErro = true;\n      if (!nome) temErro = true;\n      if (!CPF || CPF.length !== 14) temErro = true;\n      if (CPF && CPF.length === 14 && !validateCPF(CPF)) temErro = true;\n      if (!dataDeNascimento || dataDeNascimento.length !== 10) temErro = true;\n      if (!telefone || telefone.length < 11) temErro = true;\n      if (!local) temErro = true;\n      if (!numero) temErro = true;\n      if (!bairro) temErro = true;\n      if (!cidade) temErro = true;\n      if (!estado) temErro = true;\n      if (!CEP || CEP.length !== 9) temErro = true;\n      return !temErro;\n    });\n\n    return _this;\n  }\n\n  _createClass(SubmitDadosCliente, [{\n    key: \"handleSubmit\",\n    value: function handleSubmit() {\n      if (!this.validate()) return null;\n      var _this$props = this.props,\n          token = _this$props.token,\n          form = _this$props.form,\n          cliente = _this$props.cliente; //        console.log(token, cliente._id, form, );\n\n      if (!token) this.props.newCliente(form, this.callback);else this.props.updateCliente(form, cliente._id, token, this.callback);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }\n      }, __jsx(AlertGeral, {\n        aviso: this.state.aviso,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }\n      }), __jsx(\"div\", {\n        className: \"flex flex-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }\n      }, __jsx(\"button\", {\n        className: \"btn btn-success btn-cta\",\n        onClick: function onClick() {\n          return _this2.handleSubmit();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }\n      }, \"CONTINUAR PEDIDO\")));\n    }\n  }]);\n\n  return SubmitDadosCliente;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    usuario: state.auth.usuario,\n    token: state.auth.token,\n    cliente: state.cliente.cliente,\n    form: state.checkout.form\n  };\n};\n\nexport default connect(mapStateToProps, actions)(SubmitDadosCliente);","map":{"version":3,"sources":["F:/APLICACAO/lojavirtual/containers/Checkout/SubmitDadosCliente.js"],"names":["React","Component","AlertGeral","validateCPF","connect","actions","SubmitDadosCliente","aviso","error","props","permitir","setState","status","message","form","email","senha","nome","CPF","dataDeNascimento","telefone","local","numero","bairro","cidade","estado","CEP","usuario","temErro","length","validate","token","cliente","newCliente","callback","updateCliente","_id","state","handleSubmit","mapStateToProps","auth","checkout"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,SAASC,WAAT,QAA4B,sBAA5B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,OAAP,MAAoB,qBAApB;;IAEMC,kB;;;;;;;;;;;;;;;;4DACM;AAAEC,MAAAA,KAAK,EAAE;AAAT,K;;+DAEG,UAACC,KAAD,EAAW;AAClB,UAAG,CAACA,KAAJ,EAAU;AACN,cAAKC,KAAL,CAAWC,QAAX;;AACA,cAAKC,QAAL,CAAc;AAAEJ,UAAAA,KAAK,EAAE;AAAT,SAAd;AACH,OAHD,MAGO;AACH,cAAKI,QAAL,CAAc;AAAEJ,UAAAA,KAAK,EAAE;AAAEK,YAAAA,MAAM,EAAE,KAAV;AAAiBC,YAAAA,OAAO,EAAEL,KAAK,CAACK;AAAhC;AAAT,SAAd;AACH;AACJ,K;;+DAEU,YAAM;AACb,6BAGI,MAAKJ,KAAL,CAAWK,IAHf;AAAA,UACIC,KADJ,oBACIA,KADJ;AAAA,UACWC,KADX,oBACWA,KADX;AAAA,UACkBC,IADlB,oBACkBA,IADlB;AAAA,UACwBC,GADxB,oBACwBA,GADxB;AAAA,UAC6BC,gBAD7B,oBAC6BA,gBAD7B;AAAA,UAC+CC,QAD/C,oBAC+CA,QAD/C;AAAA,UAEIC,KAFJ,oBAEIA,KAFJ;AAAA,UAEWC,MAFX,oBAEWA,MAFX;AAAA,UAEmBC,MAFnB,oBAEmBA,MAFnB;AAAA,UAE2BC,MAF3B,oBAE2BA,MAF3B;AAAA,UAEmCC,MAFnC,oBAEmCA,MAFnC;AAAA,UAE2CC,GAF3C,oBAE2CA,GAF3C;AAIA,UAAQC,OAAR,GAAoB,MAAKlB,KAAzB,CAAQkB,OAAR;AAEA,UAAIC,OAAO,GAAG,KAAd;AAEA,UAAG,CAACD,OAAD,IAAY,CAACZ,KAAhB,EAAuBa,OAAO,GAAG,IAAV;AACvB,UAAG,CAACD,OAAD,IAAY,CAACX,KAAhB,EAAuBY,OAAO,GAAG,IAAV;AACvB,UAAG,CAACX,IAAJ,EAAUW,OAAO,GAAG,IAAV;AACV,UAAG,CAACV,GAAD,IAAQA,GAAG,CAACW,MAAJ,KAAe,EAA1B,EAA8BD,OAAO,GAAG,IAAV;AAC9B,UAAGV,GAAG,IAAIA,GAAG,CAACW,MAAJ,KAAe,EAAtB,IAA4B,CAAC1B,WAAW,CAACe,GAAD,CAA3C,EAAkDU,OAAO,GAAG,IAAV;AAClD,UAAG,CAACT,gBAAD,IAAqBA,gBAAgB,CAACU,MAAjB,KAA4B,EAApD,EAAwDD,OAAO,GAAG,IAAV;AACxD,UAAG,CAACR,QAAD,IAAaA,QAAQ,CAACS,MAAT,GAAkB,EAAlC,EAAsCD,OAAO,GAAG,IAAV;AAEtC,UAAG,CAACP,KAAJ,EAAWO,OAAO,GAAG,IAAV;AACX,UAAG,CAACN,MAAJ,EAAYM,OAAO,GAAG,IAAV;AACZ,UAAG,CAACL,MAAJ,EAAYK,OAAO,GAAG,IAAV;AACZ,UAAG,CAACJ,MAAJ,EAAYI,OAAO,GAAG,IAAV;AACZ,UAAG,CAACH,MAAJ,EAAYG,OAAO,GAAG,IAAV;AACZ,UAAG,CAACF,GAAD,IAAQA,GAAG,CAACG,MAAJ,KAAe,CAA1B,EAA6BD,OAAO,GAAG,IAAV;AAE7B,aAAO,CAACA,OAAR;AACH,K;;;;;;;WAED,wBAAc;AACV,UAAG,CAAC,KAAKE,QAAL,EAAJ,EAAqB,OAAO,IAAP;AACrB,wBAAiC,KAAKrB,KAAtC;AAAA,UAAQsB,KAAR,eAAQA,KAAR;AAAA,UAAejB,IAAf,eAAeA,IAAf;AAAA,UAAqBkB,OAArB,eAAqBA,OAArB,CAFU,CAGlB;;AACQ,UAAG,CAACD,KAAJ,EAAW,KAAKtB,KAAL,CAAWwB,UAAX,CAAsBnB,IAAtB,EAA4B,KAAKoB,QAAjC,EAAX,KACK,KAAKzB,KAAL,CAAW0B,aAAX,CAAyBrB,IAAzB,EAA+BkB,OAAO,CAACI,GAAvC,EAA4CL,KAA5C,EAAmD,KAAKG,QAAxD;AACR;;;WAED,kBAAQ;AAAA;;AACJ,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,MAAC,UAAD;AAAY,QAAA,KAAK,EAAE,KAAKG,KAAL,CAAW9B,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AACI,QAAA,SAAS,EAAC,yBADd;AAEI,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAAC+B,YAAL,EAAN;AAAA,SAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,CAFJ,CADJ;AAYH;;;;EA5D4BrC,S;;AA+DjC,IAAMsC,eAAe,GAAG,SAAlBA,eAAkB,CAAAF,KAAK;AAAA,SAAK;AAC9BV,IAAAA,OAAO,EAAEU,KAAK,CAACG,IAAN,CAAWb,OADU;AAE9BI,IAAAA,KAAK,EAAEM,KAAK,CAACG,IAAN,CAAWT,KAFY;AAG9BC,IAAAA,OAAO,EAAEK,KAAK,CAACL,OAAN,CAAcA,OAHO;AAI9BlB,IAAAA,IAAI,EAAEuB,KAAK,CAACI,QAAN,CAAe3B;AAJS,GAAL;AAAA,CAA7B;;AAOA,eAAeV,OAAO,CAACmC,eAAD,EAAkBlC,OAAlB,CAAP,CAAkCC,kBAAlC,CAAf","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport AlertGeral from '../../components/Alert/Geral';\r\nimport { validateCPF } from '../../utils/validate';\r\nimport { connect } from 'react-redux';\r\nimport actions from '../../redux/actions';\r\n\r\nclass SubmitDadosCliente extends Component {\r\n    state = { aviso: null }\r\n\r\n    callback = (error) => {\r\n        if(!error){\r\n            this.props.permitir();\r\n            this.setState({ aviso: null })\r\n        } else {\r\n            this.setState({ aviso: { status: false, message: error.message } });\r\n        }\r\n    }\r\n\r\n    validate = () => {\r\n        const {  \r\n            email, senha, nome, CPF, dataDeNascimento, telefone,\r\n            local, numero, bairro, cidade, estado, CEP\r\n        } = this.props.form;\r\n        const { usuario } = this.props;\r\n\r\n        let temErro = false;\r\n\r\n        if(!usuario && !email) temErro = true;\r\n        if(!usuario && !senha) temErro = true;\r\n        if(!nome) temErro = true;\r\n        if(!CPF || CPF.length !== 14) temErro = true;\r\n        if(CPF && CPF.length === 14 && !validateCPF(CPF)) temErro = true;\r\n        if(!dataDeNascimento || dataDeNascimento.length !== 10) temErro = true;\r\n        if(!telefone || telefone.length < 11) temErro = true;\r\n\r\n        if(!local) temErro = true;\r\n        if(!numero) temErro = true;\r\n        if(!bairro) temErro = true;\r\n        if(!cidade) temErro = true;\r\n        if(!estado) temErro = true;\r\n        if(!CEP || CEP.length !== 9) temErro = true;\r\n\r\n        return !temErro;\r\n    }\r\n\r\n    handleSubmit(){\r\n        if(!this.validate()) return null;\r\n        const { token, form, cliente } = this.props;\r\n//        console.log(token, cliente._id, form, );\r\n        if(!token) this.props.newCliente(form, this.callback);\r\n        else this.props.updateCliente(form, cliente._id, token, this.callback);\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div>\r\n                <AlertGeral aviso={this.state.aviso} />\r\n                <div className=\"flex flex-right\">\r\n                    <button \r\n                        className=\"btn btn-success btn-cta\" \r\n                        onClick={() => this.handleSubmit()}>\r\n                        CONTINUAR PEDIDO\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    usuario: state.auth.usuario,\r\n    token: state.auth.token,\r\n    cliente: state.cliente.cliente,\r\n    form: state.checkout.form\r\n});\r\n\r\nexport default connect(mapStateToProps, actions)(SubmitDadosCliente);"]},"metadata":{},"sourceType":"module"}