{"ast":null,"code":"var _jsxFileName = \"F:\\\\APLICACAO\\\\lojavirtual\\\\containers\\\\Pedido\\\\PedidoDetalhes\\\\index.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport DadosDoPedido from './DadosDoPedido';\nimport DetalhesDaEntrega from './DetalhesDaEntrega';\nimport DetalhesDoPagamento from './DetalhesDoPagamento';\nimport { connect } from 'react-redux';\nimport actions from '../../../redux/actions';\n\nclass PedidoDetalhes extends Component {\n  fetchPedido() {\n    const {\n      token,\n      fetchPedido\n    } = this.props;\n    const {\n      pedido\n    } = this.props.query;\n    if (token && pedido) fetchPedido(pedido, token);\n  }\n\n  componentDidMount() {\n    this.fetchPedido();\n  }\n\n  componentDidUpdate() {\n    if (!this.props.pedido) this.fetchPedido();\n  }\n\n  componentWillUnmount() {\n    this.props.cleanPedido();\n  }\n\n  cancelarPedido() {\n    const {\n      token,\n      pedido\n    } = this.props;\n\n    if (window.confirm(\"Você deseja realmente cancelar o seu pedido?\")) {\n      this.props.cancelarPedido(pedido._id, token, error => {\n        if (error) alert(\"Ocorreu um erro ao cancelar o pedido. Tente novamente.\");\n      });\n    }\n  }\n\n  render() {\n    const {\n      pedido\n    } = this.props;\n    return __jsx(\"div\", {\n      className: \"flex-4 conteudo-area-cliente\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      className: \"flex flex-start\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }\n    }, __jsx(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }\n    }, \"PEDIDO #\", pedido ? pedido._id.slice(18) : \"\", \"\\xA0\"), __jsx(\"button\", {\n      className: \"btn btn-primary btn-sm\",\n      onClick: () => this.cancelarPedido(),\n      disabled: pedido && pedido.cancelado,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }\n    }, pedido && pedido.cancelado ? \"CANCELADO\" : \"CANCELAR PEDIDO\")), __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }), __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }\n    }, __jsx(DadosDoPedido, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }\n    })), __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }), __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 23\n      }\n    }), __jsx(\"div\", {\n      className: \"flex horizontal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }, __jsx(DetalhesDaEntrega, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }\n    }), __jsx(DetalhesDoPagamento, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  token: state.auth.token,\n  pedido: state.pedido.pedido\n});\n\nexport default connect(mapStateToProps, actions)(PedidoDetalhes);","map":{"version":3,"sources":["F:/APLICACAO/lojavirtual/containers/Pedido/PedidoDetalhes/index.js"],"names":["React","Component","DadosDoPedido","DetalhesDaEntrega","DetalhesDoPagamento","connect","actions","PedidoDetalhes","fetchPedido","token","props","pedido","query","componentDidMount","componentDidUpdate","componentWillUnmount","cleanPedido","cancelarPedido","window","confirm","_id","error","alert","render","slice","cancelado","mapStateToProps","state","auth"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport DadosDoPedido from './DadosDoPedido';\r\nimport DetalhesDaEntrega from './DetalhesDaEntrega';\r\nimport DetalhesDoPagamento from './DetalhesDoPagamento';\r\n\r\nimport { connect } from 'react-redux';\r\nimport actions from '../../../redux/actions';\r\n\r\nclass PedidoDetalhes extends Component {\r\n\r\n    fetchPedido(){\r\n        const { token, fetchPedido } = this.props;\r\n        const { pedido } = this.props.query;\r\n        if(token && pedido) fetchPedido(pedido, token);\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.fetchPedido();\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        if(!this.props.pedido) this.fetchPedido();\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.props.cleanPedido();\r\n    }\r\n\r\n    cancelarPedido(){\r\n        const { token, pedido } = this.props;\r\n        if(window.confirm(\"Você deseja realmente cancelar o seu pedido?\")){\r\n            this.props.cancelarPedido(pedido._id, token, (error) => {\r\n                if(error) alert(\"Ocorreu um erro ao cancelar o pedido. Tente novamente.\");\r\n            });\r\n        }\r\n    }\r\n    \r\n    render(){\r\n        const { pedido } = this.props;\r\n        return (\r\n            <div className=\"flex-4 conteudo-area-cliente\">\r\n                <div className=\"flex flex-start\">\r\n                    <h2>PEDIDO #{pedido ? pedido._id.slice(18) : \"\"}&nbsp;</h2>  \r\n                    <button \r\n                        className=\"btn btn-primary btn-sm\"\r\n                        onClick={() => this.cancelarPedido()}\r\n                        disabled={pedido && pedido.cancelado} >\r\n                        { pedido && pedido.cancelado ? \"CANCELADO\" : \"CANCELAR PEDIDO\" }\r\n                    </button>\r\n                </div> \r\n                <br />\r\n                <div>\r\n                    <DadosDoPedido />\r\n                </div>        \r\n                <br /><br />\r\n                <div className=\"flex horizontal\">\r\n                    <DetalhesDaEntrega />\r\n                    <DetalhesDoPagamento />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    token: state.auth.token,\r\n    pedido: state.pedido.pedido\r\n});\r\n\r\nexport default connect(mapStateToProps, actions)(PedidoDetalhes);"]},"metadata":{},"sourceType":"module"}