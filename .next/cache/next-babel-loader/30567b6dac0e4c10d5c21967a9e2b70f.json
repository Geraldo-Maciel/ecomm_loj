{"ast":null,"code":"var _jsxFileName = \"F:\\\\ASSESSOR_ECO\\\\ECO_LOJ\\\\containers\\\\Checkout\\\\SubmitDadosCliente.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport AlertGeral from '../../components/Alert/Geral';\nimport { validateCPF } from '../../utils/validate';\nimport { connect } from 'react-redux';\nimport actions from '../../redux/actions';\n\nclass SubmitDadosCliente extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      aviso: null\n    });\n\n    _defineProperty(this, \"callback\", error => {\n      if (!error) {\n        this.props.permitir();\n        this.setState({\n          aviso: null\n        });\n      } else {\n        this.setState({\n          aviso: {\n            status: false,\n            message: error.message\n          }\n        });\n      }\n    });\n\n    _defineProperty(this, \"validate\", () => {\n      const {\n        email,\n        senha,\n        nome,\n        CPF,\n        dataDeNascimento,\n        telefone,\n        local,\n        numero,\n        bairro,\n        cidade,\n        estado,\n        CEP\n      } = this.props.form;\n      const {\n        usuario\n      } = this.props;\n      let temErro = false;\n      if (!usuario && !email) temErro = true;\n      if (!usuario && !senha) temErro = true;\n      if (!nome) temErro = true;\n      if (!CPF || CPF.length !== 14) temErro = true;\n      if (CPF && CPF.length === 14 && !validateCPF(CPF)) temErro = true;\n      if (!dataDeNascimento || dataDeNascimento.length !== 10) temErro = true;\n      if (!telefone || telefone.length < 11) temErro = true;\n      if (!local) temErro = true;\n      if (!numero) temErro = true;\n      if (!bairro) temErro = true;\n      if (!cidade) temErro = true;\n      if (!estado) temErro = true;\n      if (!CEP || CEP.length !== 9) temErro = true;\n      return !temErro;\n    });\n  }\n\n  handleSubmit() {\n    if (!this.validate()) return null;\n    const {\n      token,\n      form,\n      cliente\n    } = this.props;\n    if (!token) this.props.newCliente(form, this.callback);else this.props.updateCliente(form, cliente._id, token, this.callback);\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }, __jsx(AlertGeral, {\n      aviso: this.state.aviso,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }), __jsx(\"div\", {\n      className: \"flex flex-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }\n    }, __jsx(\"button\", {\n      className: \"btn btn-success btn-cta\",\n      onClick: () => this.handleSubmit(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }\n    }, \"CONTINUAR PEDIDO\")));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  usuario: state.auth.usuario,\n  token: state.auth.token,\n  cliente: state.cliente.cliente,\n  form: state.checkout.form\n});\n\nexport default connect(mapStateToProps, actions)(SubmitDadosCliente);","map":{"version":3,"sources":["F:/ASSESSOR_ECO/ECO_LOJ/containers/Checkout/SubmitDadosCliente.js"],"names":["React","Component","AlertGeral","validateCPF","connect","actions","SubmitDadosCliente","aviso","error","props","permitir","setState","status","message","email","senha","nome","CPF","dataDeNascimento","telefone","local","numero","bairro","cidade","estado","CEP","form","usuario","temErro","length","handleSubmit","validate","token","cliente","newCliente","callback","updateCliente","_id","render","state","mapStateToProps","auth","checkout"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport AlertGeral from '../../components/Alert/Geral';\r\nimport { validateCPF } from '../../utils/validate';\r\nimport { connect } from 'react-redux';\r\nimport actions from '../../redux/actions';\r\n\r\nclass SubmitDadosCliente extends Component {\r\n    state = { aviso: null }\r\n\r\n    callback = (error) => {\r\n        if(!error){\r\n            this.props.permitir();\r\n            this.setState({ aviso: null })\r\n        } else {\r\n            this.setState({ aviso: { status: false, message: error.message } });\r\n        }\r\n    }\r\n\r\n    validate = () => {\r\n        const {  \r\n            email, senha, nome, CPF, dataDeNascimento, telefone,\r\n            local, numero, bairro, cidade, estado, CEP\r\n        } = this.props.form;\r\n        const { usuario } = this.props;\r\n\r\n        let temErro = false;\r\n\r\n        if(!usuario && !email) temErro = true;\r\n        if(!usuario && !senha) temErro = true;\r\n        if(!nome) temErro = true;\r\n        if(!CPF || CPF.length !== 14) temErro = true;\r\n        if(CPF && CPF.length === 14 && !validateCPF(CPF)) temErro = true;\r\n        if(!dataDeNascimento || dataDeNascimento.length !== 10) temErro = true;\r\n        if(!telefone || telefone.length < 11) temErro = true;\r\n\r\n        if(!local) temErro = true;\r\n        if(!numero) temErro = true;\r\n        if(!bairro) temErro = true;\r\n        if(!cidade) temErro = true;\r\n        if(!estado) temErro = true;\r\n        if(!CEP || CEP.length !== 9) temErro = true;\r\n\r\n        return !temErro;\r\n    }\r\n\r\n    handleSubmit(){\r\n        if(!this.validate()) return null;\r\n        const { token, form, cliente } = this.props;\r\n        if(!token) this.props.newCliente(form, this.callback);\r\n        else (\r\n            this.props.updateCliente(form, cliente._id, token, this.callback));\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div>\r\n                <AlertGeral aviso={this.state.aviso} />\r\n                <div className=\"flex flex-right\">\r\n                    <button \r\n                        className=\"btn btn-success btn-cta\" \r\n                        onClick={() => this.handleSubmit()}>\r\n                        CONTINUAR PEDIDO\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    usuario: state.auth.usuario,\r\n    token: state.auth.token,\r\n    cliente: state.cliente.cliente,\r\n    form: state.checkout.form\r\n});\r\n\r\nexport default connect(mapStateToProps, actions)(SubmitDadosCliente);"]},"metadata":{},"sourceType":"module"}