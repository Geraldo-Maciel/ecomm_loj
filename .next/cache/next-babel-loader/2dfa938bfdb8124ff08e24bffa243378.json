{"ast":null,"code":"var errorHandling = function errorHandling(error) {\n  console.log(error, error.response ? error.response.data : null);\n\n  if (!error.response || !error.response.data) {\n    return {\n      status: 500,\n      message: \"Ocorreu um erro no servidor. Tente novamente.\"\n    };\n  }\n\n  if (error.response.data.status === 401) {\n    return {\n      status: 401,\n      message: \"Você não tem autorização para acessar esses dados.\"\n    };\n  }\n\n  var _errors = error.response.data.errors || error.response.data.error;\n\n  if (_errors && typeof _errors === \"string\") return {\n    status: 400,\n    message: _errors\n  };\n  var msg = 'Erro: ';\n\n  if (!Array.isArray(_errors)) {\n    Object.keys(_errors).forEach(function (erro, index) {\n      msg += \"\".concat(erro, \" \").concat(_errors[erro].message || (_errors[erro].properties ? _errors[erro].properties.message : \"\") || _errors[erro], \"\\n\"); //            msg += `${erro} ${_errors[erro].message || _errors[erro]}\\n`;\n    });\n  } else {\n    msg += \"Preencha corretamente \".concat(_errors.length > 1 ? \"os campos \" : \"o campo \", \" de:\");\n\n    _errors.forEach(function (item, index) {\n      var field = item.field[item.field.length - 1];\n      msg += \" \".concat(field).concat(index === _errors.length - 1 ? \".\" : \",\");\n    });\n  }\n\n  return {\n    status: 400,\n    message: msg\n  };\n};\n\nexport default errorHandling;","map":{"version":3,"sources":["F:/APLICACAO/lojavirtual/redux/actions/errorHandling.js"],"names":["errorHandling","error","console","log","response","data","status","message","_errors","errors","msg","Array","isArray","Object","keys","forEach","erro","index","properties","length","item","field"],"mappings":"AAAA,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,CAACC,KAAD,EAAW;AAC7BC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,EAAmBA,KAAK,CAACG,QAAN,GAAiBH,KAAK,CAACG,QAAN,CAAeC,IAAhC,GAAuC,IAA1D;;AACA,MAAG,CAACJ,KAAK,CAACG,QAAP,IAAmB,CAACH,KAAK,CAACG,QAAN,CAAeC,IAAtC,EAA2C;AACvC,WAAO;AAAEC,MAAAA,MAAM,EAAE,GAAV;AAAeC,MAAAA,OAAO,EAAE;AAAxB,KAAP;AACH;;AACD,MAAGN,KAAK,CAACG,QAAN,CAAeC,IAAf,CAAoBC,MAApB,KAA+B,GAAlC,EAAsC;AAClC,WAAO;AAAEA,MAAAA,MAAM,EAAE,GAAV;AAAeC,MAAAA,OAAO,EAAE;AAAxB,KAAP;AACH;;AAED,MAAMC,OAAO,GAAGP,KAAK,CAACG,QAAN,CAAeC,IAAf,CAAoBI,MAApB,IAA8BR,KAAK,CAACG,QAAN,CAAeC,IAAf,CAAoBJ,KAAlE;;AACA,MAAGO,OAAO,IAAI,OAAOA,OAAP,KAAmB,QAAjC,EAA2C,OAAO;AAAEF,IAAAA,MAAM,EAAE,GAAV;AAAeC,IAAAA,OAAO,EAAEC;AAAxB,GAAP;AAE3C,MAAIE,GAAG,GAAG,QAAV;;AACA,MAAG,CAACC,KAAK,CAACC,OAAN,CAAcJ,OAAd,CAAJ,EAA2B;AACvBK,IAAAA,MAAM,CAACC,IAAP,CAAYN,OAAZ,EAAqBO,OAArB,CAA6B,UAACC,IAAD,EAAOC,KAAP,EAAiB;AAC1CP,MAAAA,GAAG,cAAOM,IAAP,cAAgBR,OAAO,CAACQ,IAAD,CAAP,CAAcT,OAAd,KAA0BC,OAAO,CAACQ,IAAD,CAAP,CAAcE,UAAd,GAA2BV,OAAO,CAACQ,IAAD,CAAP,CAAcE,UAAd,CAAyBX,OAApD,GAA8D,EAAxF,KAA+FC,OAAO,CAACQ,IAAD,CAAtH,OAAH,CAD0C,CAEtD;AACS,KAHD;AAIH,GALD,MAKO;AACHN,IAAAA,GAAG,oCAA8BF,OAAO,CAACW,MAAR,GAAiB,CAAjB,GAAqB,YAArB,GAAoC,UAAlE,SAAH;;AACAX,IAAAA,OAAO,CAACO,OAAR,CAAgB,UAACK,IAAD,EAAOH,KAAP,EAAiB;AAC7B,UAAMI,KAAK,GAAGD,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACC,KAAL,CAAWF,MAAX,GAAoB,CAA/B,CAAd;AACAT,MAAAA,GAAG,eAAQW,KAAR,SAAgBJ,KAAK,KAAKT,OAAO,CAACW,MAAR,GAAiB,CAA3B,GAA+B,GAA/B,GAAqC,GAArD,CAAH;AACH,KAHD;AAIH;;AACD,SAAO;AAAEb,IAAAA,MAAM,EAAE,GAAV;AAAeC,IAAAA,OAAO,EAAEG;AAAxB,GAAP;AACH,CA1BD;;AA4BA,eAAeV,aAAf","sourcesContent":["const errorHandling = (error) => {\r\n    console.log(error, error.response ? error.response.data : null);\r\n    if(!error.response || !error.response.data){\r\n        return { status: 500, message: \"Ocorreu um erro no servidor. Tente novamente.\" };\r\n    }\r\n    if(error.response.data.status === 401){\r\n        return { status: 401, message: \"Você não tem autorização para acessar esses dados.\" };\r\n    }\r\n\r\n    const _errors = error.response.data.errors || error.response.data.error;\r\n    if(_errors && typeof _errors === \"string\") return { status: 400, message: _errors };\r\n\r\n    let msg = 'Erro: ';\r\n    if(!Array.isArray(_errors)){\r\n        Object.keys(_errors).forEach((erro, index) => {\r\n            msg += `${erro} ${ _errors[erro].message || (_errors[erro].properties ? _errors[erro].properties.message : \"\") || _errors[erro] }\\n`;            \r\n//            msg += `${erro} ${_errors[erro].message || _errors[erro]}\\n`;\r\n        });\r\n    } else {\r\n        msg += `Preencha corretamente ${ _errors.length > 1 ? \"os campos \" : \"o campo \" } de:`;\r\n        _errors.forEach((item, index) => {\r\n            const field = item.field[item.field.length - 1];\r\n            msg += ` ${field}${index === _errors.length - 1 ? \".\" : \",\"}`;\r\n        })\r\n    }\r\n    return { status: 400, message: msg };\r\n}\r\n\r\nexport default errorHandling;"]},"metadata":{},"sourceType":"module"}