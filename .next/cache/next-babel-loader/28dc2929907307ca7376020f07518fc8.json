{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"F:\\\\APLICACAO\\\\lojavirtual\\\\containers\\\\Pedido\\\\PedidoDetalhes\\\\index.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport DadosDoPedido from './DadosDoPedido';\nimport DetalhesDaEntrega from './DetalhesDaEntrega';\nimport DetalhesDoPagamento from './DetalhesDoPagamento';\nimport { connect } from 'react-redux';\nimport actions from '../../../redux/actions';\n\nvar PedidoDetalhes = /*#__PURE__*/function (_Component) {\n  _inherits(PedidoDetalhes, _Component);\n\n  var _super = _createSuper(PedidoDetalhes);\n\n  function PedidoDetalhes() {\n    _classCallCheck(this, PedidoDetalhes);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(PedidoDetalhes, [{\n    key: \"fetchPedido\",\n    value: function fetchPedido() {\n      var _this$props = this.props,\n          token = _this$props.token,\n          fetchPedido = _this$props.fetchPedido;\n      var pedido = this.props.query.pedido;\n      if (token && pedido) fetchPedido(pedido, token);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchPedido();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (!this.props.pedido) this.fetchPedido();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.props.cleanPedido();\n    }\n  }, {\n    key: \"cancelarPedido\",\n    value: function cancelarPedido() {\n      var _this$props2 = this.props,\n          token = _this$props2.token,\n          pedido = _this$props2.pedido;\n\n      if (window.confirm(\"Você deseja realmente cancelar o seu pedido?\")) {\n        this.props.cancelarPedido(pedido._id, token, function (error) {\n          if (error) alert(\"Ocorreu um erro ao cancelar o pedido. Tente novamente.\");\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var pedido = this.props.pedido;\n      return __jsx(\"div\", {\n        className: \"flex-4 conteudo-area-cliente\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }\n      }, __jsx(\"div\", {\n        className: \"flex flex-start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 17\n        }\n      }, __jsx(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }\n      }, \"PEDIDO #\", pedido ? pedido._id.slice(18) : \"\", \"\\xA0\"), __jsx(\"button\", {\n        className: \"btn btn-primary btn-sm\",\n        onClick: function onClick() {\n          return _this.cancelarPedido();\n        },\n        disabled: pedido && pedido.cancelado,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }\n      }, pedido && pedido.cancelado ? \"CANCELADO\" : \"CANCELAR PEDIDO\")), __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 17\n        }\n      }), __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }\n      }, __jsx(DadosDoPedido, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }\n      })), __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }\n      }), __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 23\n        }\n      }), __jsx(\"div\", {\n        className: \"flex horizontal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }\n      }, __jsx(DetalhesDaEntrega, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }\n      }), __jsx(DetalhesDoPagamento, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }\n      })));\n    }\n  }]);\n\n  return PedidoDetalhes;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    token: state.auth.token,\n    pedido: state.pedido.pedido\n  };\n};\n\nexport default connect(mapStateToProps, actions)(PedidoDetalhes);","map":{"version":3,"sources":["F:/APLICACAO/lojavirtual/containers/Pedido/PedidoDetalhes/index.js"],"names":["React","Component","DadosDoPedido","DetalhesDaEntrega","DetalhesDoPagamento","connect","actions","PedidoDetalhes","props","token","fetchPedido","pedido","query","cleanPedido","window","confirm","cancelarPedido","_id","error","alert","slice","cancelado","mapStateToProps","state","auth"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport DadosDoPedido from './DadosDoPedido';\r\nimport DetalhesDaEntrega from './DetalhesDaEntrega';\r\nimport DetalhesDoPagamento from './DetalhesDoPagamento';\r\n\r\nimport { connect } from 'react-redux';\r\nimport actions from '../../../redux/actions';\r\n\r\nclass PedidoDetalhes extends Component {\r\n\r\n    fetchPedido(){\r\n        const { token, fetchPedido } = this.props;\r\n        const { pedido } = this.props.query;\r\n        if(token && pedido) fetchPedido(pedido, token);\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.fetchPedido();\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        if(!this.props.pedido) this.fetchPedido();\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.props.cleanPedido();\r\n    }\r\n\r\n    cancelarPedido(){\r\n        const { token, pedido } = this.props;\r\n        if(window.confirm(\"Você deseja realmente cancelar o seu pedido?\")){\r\n            this.props.cancelarPedido(pedido._id, token, (error) => {\r\n                if(error) alert(\"Ocorreu um erro ao cancelar o pedido. Tente novamente.\");\r\n            });\r\n        }\r\n    }\r\n    \r\n    render(){\r\n        const { pedido } = this.props;\r\n        return (\r\n            <div className=\"flex-4 conteudo-area-cliente\">\r\n                <div className=\"flex flex-start\">\r\n                    <h2>PEDIDO #{pedido ? pedido._id.slice(18) : \"\"}&nbsp;</h2>  \r\n                    <button \r\n                        className=\"btn btn-primary btn-sm\"\r\n                        onClick={() => this.cancelarPedido()}\r\n                        disabled={pedido && pedido.cancelado} >\r\n                        { pedido && pedido.cancelado ? \"CANCELADO\" : \"CANCELAR PEDIDO\" }\r\n                    </button>\r\n                </div> \r\n                <br />\r\n                <div>\r\n                    <DadosDoPedido />\r\n                </div>        \r\n                <br /><br />\r\n                <div className=\"flex horizontal\">\r\n                    <DetalhesDaEntrega />\r\n                    <DetalhesDoPagamento />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    token: state.auth.token,\r\n    pedido: state.pedido.pedido\r\n});\r\n\r\nexport default connect(mapStateToProps, actions)(PedidoDetalhes);"]},"metadata":{},"sourceType":"module"}