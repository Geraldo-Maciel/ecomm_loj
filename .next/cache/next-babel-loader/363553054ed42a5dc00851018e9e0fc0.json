{"ast":null,"code":"var _jsxFileName = \"F:\\\\APLICACAO\\\\lojavirtual\\\\containers\\\\Cliente\\\\DadosCliente.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport FormSimples from '../../components/Inputs/FormSimples';\nimport { connect } from 'react-redux';\nimport actions from '../../redux/actions';\nimport moment from 'moment';\nimport { validateCPF } from '../../utils/validate';\nimport { formatDataDeNascimento, formatTelefone, formatCPF } from '../../utils/format';\n\nclass DadosClienteContainer extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      erros: {}\n    });\n\n    _defineProperty(this, \"onChange\", (field, e, value) => {\n      this.props.setForm({\n        [field]: value || e.target.value\n      }, null).then(() => this.validate());\n    });\n  }\n\n  componentDidMount() {\n    this.props.setForm({\n      email: \"\",\n      senha: \"\",\n      nome: this.props.cliente ? this.props.cliente.nome : \"\",\n      CPF: this.props.cliente ? this.props.cliente.cpf : \"\",\n      telefone: this.props.cliente && this.props.cliente.telefones ? this.props.cliente.telefones[0] : \"\",\n      dataDeNascimento: this.props.cliente ? moment(this.props.cliente.dataDeNascimento).format(\"DD/MM/YYYY\") : \"\"\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.cliente && this.props.cliente) {\n      const {\n        nome,\n        cpf,\n        telefones,\n        dataDeNascimento\n      } = this.props.cliente;\n      this.props.setForm({\n        nome,\n        CPF: cpf,\n        telefone: telefones[0],\n        dataDeNascimento: moment(dataDeNascimento).format(\"DD/MM/YYYY\")\n      });\n    }\n  }\n\n  validate() {\n    const {\n      email,\n      senha,\n      nome,\n      CPF,\n      dataDeNascimento,\n      telefone\n    } = this.props.form;\n    const {\n      usuario\n    } = this.props;\n    const erros = {};\n    if (!usuario && !email) erros.email = \"Preencha aqui com o seu email\";\n    if (!usuario && !senha) erros.senha = \"Preencha aqui com a sua senha\";\n    if (!nome) erros.nome = \"Preencha aqui com o seu nome\";\n    if (!CPF || CPF.length !== 14) erros.CPF = \"Preencha aqui com o seu CPF\";\n    if (CPF && CPF.length === 14 && !validateCPF(CPF)) erros.CPF = \"Preencha aqui com o seu CPF corretamente\";\n    if (!dataDeNascimento || dataDeNascimento.length !== 10) erros.dataDeNascimento = \"Preencha aqui com a sua data de nascimento\";\n    if (!telefone || telefone.length < 11) erros.telefone = \"Preencha aqui com o seu telefone\";\n    this.setState({\n      erros\n    });\n    return !(Object.keys(erros).length > 0);\n  }\n\n  renderDadosRegistro() {\n    const {\n      email,\n      senha\n    } = this.props.form;\n    const {\n      erros\n    } = this.state;\n    return __jsx(\"div\", {\n      className: \"flex-1 flex horizontal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      className: \"flex-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }, __jsx(FormSimples, {\n      value: email || \"\",\n      name: \"email\",\n      placeholder: \"E-mail\",\n      label: \"E-mail\",\n      erro: erros.email,\n      onChange: e => this.onChange(\"email\", e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    })), __jsx(\"div\", {\n      className: \"flex-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, __jsx(FormSimples, {\n      value: senha || \"\",\n      name: \"senha\",\n      placeholder: \"Senha\",\n      label: \"Senha\",\n      type: \"senha\",\n      erro: erros.senha,\n      onChange: e => this.onChange(\"senha\", e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }\n    })));\n  }\n\n  renderDadosUsuario() {\n    const {\n      nome,\n      CPF,\n      dataDeNascimento,\n      telefone\n    } = this.props.form;\n    const {\n      erros\n    } = this.state;\n    return __jsx(\"div\", {\n      className: \"flex-1 flex vertical\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      className: \"flex-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }\n    }, __jsx(FormSimples, {\n      value: nome || \"\",\n      name: \"nome\",\n      placeholder: \"Nome\",\n      label: \"Nome\",\n      erro: erros.nome,\n      onChange: e => this.onChange(\"nome\", e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }\n    })), __jsx(\"div\", {\n      className: \"flex-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }, __jsx(FormSimples, {\n      value: CPF || \"\",\n      name: \"CPF\",\n      placeholder: \"CPF\",\n      label: \"CPF\",\n      erro: erros.CPF,\n      onChange: e => this.onChange(\"CPF\", e, formatCPF(e.target.value)),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }\n    })), __jsx(\"div\", {\n      className: \"flex-1 flex horizontal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      className: \"flex-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }\n    }, __jsx(FormSimples, {\n      value: dataDeNascimento || \"\",\n      erro: erros.dataDeNascimento,\n      name: \"dataDeNascimento\",\n      placeholder: \"DD/MM/AAAA\",\n      label: \"Data de Nascimento\",\n      onChange: e => this.onChange(\"dataDeNascimento\", e, formatDataDeNascimento(e.target.value)),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 25\n      }\n    })), __jsx(\"div\", {\n      className: \"flex-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }\n    }, __jsx(FormSimples, {\n      value: telefone || \"\",\n      erro: erros.telefone,\n      name: \"telefone\",\n      placeholder: \"(34) 1234-5678\",\n      label: \"Telefone/Celular\",\n      onChange: e => this.onChange(\"telefone\", e, formatTelefone(e.target.value)),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      className: \"flex-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }\n    }, __jsx(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 21\n      }\n    }, \" DADOS DO CLIENTE \")), !this.props.usuario && this.renderDadosRegistro(), this.renderDadosUsuario());\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  usuario: state.auth.usuario,\n  token: state.auth.token,\n  cliente: state.cliente.cliente,\n  form: state.checkout.form\n});\n\nexport default connect(mapStateToProps, actions)(DadosClienteContainer);","map":{"version":3,"sources":["F:/APLICACAO/lojavirtual/containers/Cliente/DadosCliente.js"],"names":["React","Component","FormSimples","connect","actions","moment","validateCPF","formatDataDeNascimento","formatTelefone","formatCPF","DadosClienteContainer","erros","field","e","value","props","setForm","target","then","validate","componentDidMount","email","senha","nome","cliente","CPF","cpf","telefone","telefones","dataDeNascimento","format","componentDidUpdate","prevProps","form","usuario","length","setState","Object","keys","renderDadosRegistro","state","onChange","renderDadosUsuario","render","mapStateToProps","auth","token","checkout"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport FormSimples from '../../components/Inputs/FormSimples';\r\nimport {connect} from 'react-redux';\r\nimport actions from '../../redux/actions';\r\nimport moment from 'moment';\r\n\r\nimport {validateCPF} from '../../utils/validate';\r\nimport {formatDataDeNascimento, formatTelefone, formatCPF} from '../../utils/format';\r\n\r\nclass DadosClienteContainer extends Component {\r\n\r\n    state = {\r\n        erros: {}\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.props.setForm({\r\n            email: \"\",\r\n            senha: \"\",\r\n            nome: this.props.cliente ? this.props.cliente.nome : \"\",\r\n            CPF: this.props.cliente ? this.props.cliente.cpf : \"\",\r\n            telefone: this.props.cliente && this.props.cliente.telefones ? \r\n                this.props.cliente.telefones[0] : \"\",\r\n            dataDeNascimento: this.props.cliente ? \r\n                moment(this.props.cliente.dataDeNascimento).format(\"DD/MM/YYYY\") : \"\"\r\n        });\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (!prevProps.cliente && this.props.cliente) {\r\n            const {nome, cpf, telefones, dataDeNascimento} = this.props.cliente;\r\n            this.props.setForm({\r\n                nome, CPF: cpf, telefone: telefones[0], \r\n                dataDeNascimento: moment(dataDeNascimento).format(\"DD/MM/YYYY\")\r\n            });\r\n        }\r\n    }\r\n\r\n    validate(){\r\n        const {email, senha, nome, CPF, dataDeNascimento, telefone} = this.props.form;\r\n        const {usuario} = this.props;\r\n        const erros = {};\r\n\r\n        if (!usuario &&! email) erros.email = \"Preencha aqui com o seu email\";\r\n        if (!usuario &&! senha) erros.senha = \"Preencha aqui com a sua senha\";\r\n\r\n        if (!nome) erros.nome = \"Preencha aqui com o seu nome\";\r\n        if (!CPF || CPF.length !== 14) erros.CPF = \"Preencha aqui com o seu CPF\";\r\n        if (CPF && CPF.length === 14 && !validateCPF(CPF)) \r\n            erros.CPF = \"Preencha aqui com o seu CPF corretamente\";\r\n        if (!dataDeNascimento || dataDeNascimento.length !== 10)\r\n            erros.dataDeNascimento = \"Preencha aqui com a sua data de nascimento\";\r\n        if (!telefone || telefone.length < 11)\r\n            erros.telefone = \"Preencha aqui com o seu telefone\";\r\n\r\n        this.setState ({erros});\r\n        return !(Object.keys(erros).length > 0);\r\n    }\r\n\r\n    onChange = (field, e, value) => {\r\n        this.props.setForm({[field]: value || e.target.value}, null)\r\n        .then(() => this.validate());\r\n    }\r\n\r\n    renderDadosRegistro () {\r\n        const {email, senha} = this.props.form;\r\n        const {erros} = this.state;\r\n        return (\r\n            <div className = \"flex-1 flex horizontal\">\r\n                <div className = \"flex-1\">\r\n                    <FormSimples \r\n                        value = {email || \"\"}\r\n                        name = \"email\" \r\n                        placeholder = \"E-mail\" \r\n                        label = \"E-mail\" \r\n                        erro = {erros.email}\r\n                        onChange = {(e) => this.onChange(\"email\", e)} />\r\n                </div>\r\n                <div className = \"flex-1\">\r\n                    <FormSimples \r\n                        value = {senha || \"\"}\r\n                        name = \"senha\" \r\n                        placeholder = \"Senha\" \r\n                        label = \"Senha\" \r\n                        type = \"senha\"\r\n                        erro = {erros.senha}\r\n                        onChange = {(e) => this.onChange(\"senha\", e)} />\r\n                </div>                \r\n            </div>\r\n        )\r\n    }\r\n\r\n    renderDadosUsuario() {\r\n        const {nome, CPF, dataDeNascimento, telefone} = this.props.form;\r\n        const {erros} = this.state;\r\n        return (\r\n            <div className = \"flex-1 flex vertical\">\r\n                <div className = \"flex-1\">\r\n                    <FormSimples \r\n                        value = {nome || \"\"}\r\n                        name = \"nome\" \r\n                        placeholder = \"Nome\" \r\n                        label = \"Nome\" \r\n                        erro = {erros.nome}\r\n                        onChange = {(e) => this.onChange(\"nome\", e)} />\r\n                </div>\r\n                <div className = \"flex-1\">\r\n                    <FormSimples \r\n                        value = {CPF || \"\"}\r\n                        name = \"CPF\" \r\n                        placeholder = \"CPF\" \r\n                        label = \"CPF\"\r\n                        erro = {erros.CPF} \r\n                        onChange = {(e) => this.onChange(\"CPF\", e, formatCPF(e.target.value))} />\r\n                </div>    \r\n                <div className = \"flex-1 flex horizontal\">\r\n                    <div className = \"flex-1\">\r\n                        <FormSimples \r\n                            value = {dataDeNascimento || \"\"}\r\n                            erro = {erros.dataDeNascimento}\r\n                            name = \"dataDeNascimento\" \r\n                            placeholder = \"DD/MM/AAAA\" \r\n                            label = \"Data de Nascimento\" \r\n                            onChange = {(e) => this.onChange(\"dataDeNascimento\", e, formatDataDeNascimento(e.target.value))} />\r\n                    </div>\r\n                    <div className = \"flex-1\">\r\n                        <FormSimples \r\n                            value = {telefone || \"\"}\r\n                            erro = {erros.telefone}\r\n                            name = \"telefone\" \r\n                            placeholder = \"(34) 1234-5678\" \r\n                            label = \"Telefone/Celular\" \r\n                            onChange = {(e) => this.onChange(\"telefone\", e, formatTelefone(e.target.value))} />\r\n                    </div>   \r\n                </div>            \r\n            </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"flex-1\">\r\n                <div>\r\n                    <h2> DADOS DO CLIENTE </h2>\r\n                </div>\r\n                {!this.props.usuario && this.renderDadosRegistro()}\r\n                {this.renderDadosUsuario()}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    usuario: state.auth.usuario,\r\n    token: state.auth.token,\r\n    cliente: state.cliente.cliente,\r\n    form: state.checkout.form\r\n});\r\n\r\nexport default connect(mapStateToProps, actions) (DadosClienteContainer);"]},"metadata":{},"sourceType":"module"}