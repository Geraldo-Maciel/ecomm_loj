{"ast":null,"code":"var _jsxFileName = \"F:\\\\ASSESSOR_ECO\\\\ECO_LOJ\\\\containers\\\\Checkout\\\\DadosEntrega.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport FormSimples from '../../components/Inputs/FormSimples';\nimport { connect } from 'react-redux';\nimport actions from '../../redux/actions';\nimport moment from 'moment';\nimport axios from 'axios';\nimport { ESTADOS } from '../../utils';\nimport { formatNumber, formatCEP } from '../../utils/format';\n\nclass DadosEntregaContainer extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      erros: {\n        dadosCobranca: {}\n      }\n    });\n\n    _defineProperty(this, \"onChange\", (field, value, prefix) => this.props.setForm({\n      [field]: value\n    }, prefix).then(() => this.validate()));\n\n    _defineProperty(this, \"onChangeCEP\", (field, value, prefix) => {\n      this.props.setForm({\n        [field]: value\n      }, prefix).then(() => {\n        this.validate();\n\n        if (value.length === 9) {\n          axios.get(`https://viacep.com.br/ws/${value.replace('-', '')}/json/unicode`).then(response => {\n            this.props.setForm({\n              \"local\": response.data[\"logradouro\"],\n              \"bairro\": response.data[\"bairro\"],\n              \"cidade\": response.data[\"localidade\"],\n              \"estado\": response.data[\"uf\"]\n            }, prefix).then(() => this.validate());\n          }).catch(e => console.log(e));\n        }\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.fetchCliente();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.cliente && this.props.cliente) {\n      this.fetchCliente();\n    }\n  }\n\n  fetchCliente() {\n    const {\n      cliente\n    } = this.props;\n    this.props.setForm({\n      dadosEntregaIgualDadosCobranca: true,\n      local: cliente ? cliente.endereco.local : \"\",\n      numero: cliente ? cliente.endereco.numero : \"\",\n      bairro: cliente ? cliente.endereco.bairro : \"\",\n      complemento: cliente ? cliente.endereco.complemento : \"\",\n      cidade: cliente ? cliente.endereco.cidade : \"\",\n      estado: cliente ? cliente.endereco.estado : \"\",\n      CEP: cliente ? cliente.endereco.CEP : \"\",\n      dadosCobranca: {\n        local: cliente ? cliente.endereco.local : \"\",\n        numero: cliente ? cliente.endereco.numero : \"\",\n        bairro: cliente ? cliente.endereco.bairro : \"\",\n        complemento: cliente ? cliente.endereco.complemento : \"\",\n        cidade: cliente ? cliente.endereco.cidade : \"\",\n        estado: cliente ? cliente.endereco.estado : \"\",\n        CEP: cliente ? cliente.endereco.CEP : \"\"\n      }\n    });\n  }\n\n  validate() {\n    const {\n      dadosEntregaIgualDadosCobranca,\n      local,\n      numero,\n      bairro,\n      cidade,\n      estado,\n      CEP,\n      dadosCobranca\n    } = this.props.form;\n    const erros = {\n      dadosCobranca: {}\n    };\n    if (!local) erros.local = \"Preencha aqui com o seu endereço\";\n    if (!numero) erros.numero = \"Preencha aqui com o seu número\";\n    if (!bairro) erros.bairro = \"Preencha aqui com o seu bairro\";\n    if (!cidade) erros.cidade = \"Preencha aqui com a sua cidade\";\n    if (!estado) erros.estado = \"Selecione o seu estado\";\n    if (!CEP || CEP.length !== 9) erros.CEP = \"Digite aqui seu CEP\";\n\n    if (!dadosEntregaIgualDadosCobranca) {\n      if (!dadosCobranca.local) erros.dadosCobranca.local = \"Preencha aqui com o seu endereço\";\n      if (!dadosCobranca.numero) erros.dadosCobranca.numero = \"Preencha aqui com o seu número\";\n      if (!dadosCobranca.bairro) erros.dadosCobranca.bairro = \"Preencha aqui com o seu bairro\";\n      if (!dadosCobranca.cidade) erros.dadosCobranca.cidade = \"Preencha aqui com a sua cidade\";\n      if (!dadosCobranca.estado) erros.dadosCobranca.estado = \"Selecione o seu estado\";\n      if (!dadosCobranca.CEP || dadosCobranca.CEP.length !== 9) erros.dadosCobranca.CEP = \"Digite aqui seu CEP\";\n    }\n\n    this.setState({\n      erros\n    });\n    return Object.keys(erros).length === 1 && Object.keys(erros.dadosCobranca).length === 0;\n  }\n\n  renderDadosDeEntrega() {\n    if (!this.props.form) return null;\n    const {\n      dadosEntregaIgualDadosCobranca,\n      local,\n      numero,\n      bairro,\n      complemento,\n      cidade,\n      estado,\n      CEP\n    } = this.props.form;\n    const {\n      erros\n    } = this.state;\n    return __jsx(\"div\", {\n      className: \"flex-1 flex vertical\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }\n    }, __jsx(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }\n    }, \"DADOS DE ENTREGA\")), __jsx(\"div\", {\n      className: \"flex-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }\n    }, __jsx(FormSimples, {\n      value: CEP || \"\",\n      erro: erros.CEP,\n      name: \"CEP\",\n      placeholder: \"12345-789\",\n      label: \"CEP\",\n      onChange: e => this.onChangeCEP(\"CEP\", formatCEP(e.target.value)),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 21\n      }\n    })), __jsx(\"div\", {\n      className: \"flex-1 flex horizontal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      className: \"flex-1 flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 21\n      }\n    }, __jsx(FormSimples, {\n      value: local || \"\",\n      erro: erros.local,\n      name: \"local\",\n      placeholder: \"Rua, Avenida, ...\",\n      label: \"Endere\\xE7o (Rua, Avenida,..)\",\n      onChange: e => this.onChange(\"local\", e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 25\n      }\n    })), __jsx(\"div\", {\n      className: \"flex-1 flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 21\n      }\n    }, __jsx(FormSimples, {\n      value: numero || \"\",\n      erro: erros.numero,\n      name: \"numero\",\n      placeholder: \"9999\",\n      label: \"N\\xFAmero\",\n      onChange: e => this.onChange(\"numero\", formatNumber(e.target.value)),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 25\n      }\n    }))), __jsx(\"div\", {\n      className: \"flex-1 flex horizontal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      className: \"flex-1 flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 21\n      }\n    }, __jsx(FormSimples, {\n      value: bairro || \"\",\n      erro: erros.bairro,\n      name: \"bairro\",\n      placeholder: \"Bairro\",\n      label: \"Bairro\",\n      onChange: e => this.onChange(\"bairro\", e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 25\n      }\n    })), __jsx(\"div\", {\n      className: \"flex-1 flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 21\n      }\n    }, __jsx(FormSimples, {\n      value: complemento || \"\",\n      erro: erros.complemento,\n      name: \"complemento\",\n      placeholder: \"Complemento\",\n      label: \"Complemento\",\n      onChange: e => this.onChange(\"complemento\", e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 25\n      }\n    }))), __jsx(\"div\", {\n      className: \"flex-1 flex horizontal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      className: \"flex-1 flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 21\n      }\n    }, __jsx(FormSimples, {\n      value: cidade || \"\",\n      erro: erros.cidade,\n      name: \"cidade\",\n      placeholder: \"Cidade\",\n      label: \"Cidade\",\n      onChange: e => this.onChange(\"cidade\", e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 25\n      }\n    })), __jsx(\"div\", {\n      className: \"flex-1 flex vertical form-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 21\n      }\n    }, __jsx(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 25\n      }\n    }, \"Estado\"), __jsx(\"select\", {\n      value: estado,\n      onChange: e => this.onChange(\"estado\", e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 25\n      }\n    }, __jsx(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 29\n      }\n    }, \"Selecione...\"), Object.keys(ESTADOS).map(abbr => __jsx(\"option\", {\n      key: abbr,\n      value: abbr,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 67\n      }\n    }, ESTADOS[abbr]))), erros.estado && __jsx(\"small\", {\n      className: \"erro\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 44\n      }\n    }, erros.estado))), __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }\n    }), __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }\n    }, __jsx(\"input\", {\n      //                        checked={dadosEntregaIgualDadosCobranca || true} \n      checked: dadosEntregaIgualDadosCobranca,\n      type: \"checkbox\",\n      onChange: () => this.props.setForm({\n        \"dadosEntregaIgualDadosCobranca\": !dadosEntregaIgualDadosCobranca\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 21\n      }\n    }), __jsx(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 21\n      }\n    }, \"\\xA0Os dados de entrega s\\xE3o iguais aos dados de cobran\\xE7a\")));\n  }\n\n  renderDadosDeCobranca() {\n    if (!this.props.form || !this.props.form.dadosCobranca) return null;\n    const {\n      local,\n      numero,\n      bairro,\n      complemento,\n      cidade,\n      estado,\n      CEP\n    } = this.props.form.dadosCobranca;\n    const {\n      erros\n    } = this.state;\n    return __jsx(\"div\", {\n      className: \"flex-1 flex vertical\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 17\n      }\n    }, __jsx(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 21\n      }\n    }, \"DADOS DE COBRAN\\xC7A\")), __jsx(\"div\", {\n      className: \"flex-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 17\n      }\n    }, __jsx(FormSimples, {\n      value: CEP || \"\",\n      erro: erros.dadosCobranca.CEP,\n      name: \"CEP\",\n      placeholder: \"12345-789\",\n      label: \"CEP\",\n      onChange: e => this.onChangeCEP(\"CEP\", formatCEP(e.target.value), 'dadosCobranca'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 21\n      }\n    })), __jsx(\"div\", {\n      className: \"flex-1 flex horizontal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      className: \"flex-1 flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 21\n      }\n    }, __jsx(FormSimples, {\n      value: local || \"\",\n      erro: erros.dadosCobranca.local,\n      name: \"local\",\n      placeholder: \"Rua, Avenida, ...\",\n      label: \"Endere\\xE7o (Rua, Avenida,..)\",\n      onChange: e => this.onChange(\"local\", e.target.value, 'dadosCobranca'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 25\n      }\n    })), __jsx(\"div\", {\n      className: \"flex-1 flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 21\n      }\n    }, __jsx(FormSimples, {\n      value: numero || \"\",\n      erro: erros.dadosCobranca.numero,\n      name: \"numero\",\n      placeholder: \"9999\",\n      label: \"N\\xFAmero\",\n      onChange: e => this.onChange(\"numero\", formatNumber(e.target.value), 'dadosCobranca'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 25\n      }\n    }))), __jsx(\"div\", {\n      className: \"flex-1 flex horizontal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      className: \"flex-1 flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 21\n      }\n    }, __jsx(FormSimples, {\n      value: bairro || \"\",\n      erro: erros.dadosCobranca.bairro,\n      name: \"bairro\",\n      placeholder: \"Bairro\",\n      label: \"Bairro\",\n      onChange: e => this.onChange(\"bairro\", e.target.value, 'dadosCobranca'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 25\n      }\n    })), __jsx(\"div\", {\n      className: \"flex-1 flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 21\n      }\n    }, __jsx(FormSimples, {\n      value: complemento || \"\",\n      erro: erros.dadosCobranca.complemento,\n      name: \"complemento\",\n      placeholder: \"Complemento\",\n      label: \"Complemento\",\n      onChange: e => this.onChange(\"complemento\", e.target.value, 'dadosCobranca'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 25\n      }\n    }))), __jsx(\"div\", {\n      className: \"flex-1 flex horizontal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      className: \"flex-1 flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 21\n      }\n    }, __jsx(FormSimples, {\n      value: cidade || \"\",\n      erro: erros.dadosCobranca.cidade,\n      name: \"cidade\",\n      placeholder: \"Cidade\",\n      label: \"Cidade\",\n      onChange: e => this.onChange(\"cidade\", e.target.value, 'dadosCobranca'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 25\n      }\n    })), __jsx(\"div\", {\n      className: \"flex-1 flex vertical form-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 21\n      }\n    }, __jsx(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 25\n      }\n    }, \"Estado\"), __jsx(\"select\", {\n      value: estado,\n      onChange: e => this.onChange(\"estado\", e.target.value, 'dadosCobranca'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 25\n      }\n    }, __jsx(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 29\n      }\n    }, \"Selecione...\"), Object.keys(ESTADOS).map(abbr => __jsx(\"option\", {\n      key: abbr,\n      value: abbr,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 67\n      }\n    }, ESTADOS[abbr]))), erros.dadosCobranca.estado && __jsx(\"small\", {\n      className: \"erro\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 58\n      }\n    }, erros.dadosCobranca.estado))));\n  }\n\n  render() {\n    const {\n      dadosEntregaIgualDadosCobranca\n    } = this.props.form;\n    return __jsx(\"div\", {\n      className: \"flex-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 13\n      }\n    }, this.renderDadosDeEntrega(), !dadosEntregaIgualDadosCobranca && this.renderDadosDeCobranca());\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  usuario: state.auth.usuario,\n  cliente: state.cliente.cliente,\n  form: state.checkout.form\n});\n\nexport default connect(mapStateToProps, actions)(DadosEntregaContainer);","map":{"version":3,"sources":["F:/ASSESSOR_ECO/ECO_LOJ/containers/Checkout/DadosEntrega.js"],"names":["React","Component","FormSimples","connect","actions","moment","axios","ESTADOS","formatNumber","formatCEP","DadosEntregaContainer","erros","dadosCobranca","field","value","prefix","props","setForm","then","validate","length","get","replace","response","data","catch","e","console","log","componentDidMount","fetchCliente","componentDidUpdate","prevProps","cliente","dadosEntregaIgualDadosCobranca","local","endereco","numero","bairro","complemento","cidade","estado","CEP","form","setState","Object","keys","renderDadosDeEntrega","state","onChangeCEP","target","onChange","map","abbr","renderDadosDeCobranca","render","mapStateToProps","usuario","auth","checkout"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport FormSimples from '../../components/Inputs/FormSimples';\r\n\r\nimport { connect } from 'react-redux';\r\nimport actions from '../../redux/actions';\r\nimport moment from 'moment';\r\nimport axios from 'axios';\r\n\r\nimport { ESTADOS } from '../../utils';\r\nimport { formatNumber, formatCEP } from '../../utils/format';\r\n\r\nclass DadosEntregaContainer extends Component {\r\n\r\n    state = {\r\n        erros: { dadosCobranca: {} }\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.fetchCliente();\r\n    }\r\n\r\n    componentDidUpdate(prevProps){\r\n        if(!prevProps.cliente && this.props.cliente){\r\n            this.fetchCliente();\r\n        }\r\n    }\r\n\r\n    fetchCliente(){\r\n        const { cliente } = this.props;\r\n        this.props.setForm({\r\n            dadosEntregaIgualDadosCobranca: true,\r\n            local: cliente ? cliente.endereco.local : \"\",\r\n            numero: cliente ? cliente.endereco.numero : \"\",\r\n            bairro: cliente ? cliente.endereco.bairro : \"\",\r\n            complemento: cliente ? cliente.endereco.complemento : \"\",\r\n            cidade: cliente ? cliente.endereco.cidade : \"\",\r\n            estado: cliente ? cliente.endereco.estado : \"\",\r\n            CEP: cliente ? cliente.endereco.CEP : \"\",\r\n            dadosCobranca: {\r\n                local: cliente ? cliente.endereco.local : \"\",\r\n                numero: cliente ? cliente.endereco.numero : \"\",\r\n                bairro: cliente ? cliente.endereco.bairro : \"\",\r\n                complemento: cliente ? cliente.endereco.complemento : \"\",\r\n                cidade: cliente ? cliente.endereco.cidade : \"\",\r\n                estado: cliente ? cliente.endereco.estado : \"\",\r\n                CEP: cliente ? cliente.endereco.CEP : \"\"\r\n            }\r\n        });\r\n    };\r\n\r\n    validate(){\r\n        const { \r\n            dadosEntregaIgualDadosCobranca,\r\n            local, numero, bairro, cidade, estado, CEP,\r\n            dadosCobranca } = this.props.form;\r\n        const erros = { dadosCobranca: {} };\r\n\r\n        if(!local) erros.local = \"Preencha aqui com o seu endereço\";\r\n        if(!numero) erros.numero = \"Preencha aqui com o seu número\";\r\n        if(!bairro) erros.bairro = \"Preencha aqui com o seu bairro\";\r\n        if(!cidade) erros.cidade = \"Preencha aqui com a sua cidade\";\r\n        if(!estado) erros.estado = \"Selecione o seu estado\";\r\n        if(!CEP || CEP.length !== 9) erros.CEP = \"Digite aqui seu CEP\";\r\n\r\n        if(!dadosEntregaIgualDadosCobranca){\r\n            if(!dadosCobranca.local) erros.dadosCobranca.local = \"Preencha aqui com o seu endereço\";\r\n            if(!dadosCobranca.numero) erros.dadosCobranca.numero = \"Preencha aqui com o seu número\";\r\n            if(!dadosCobranca.bairro) erros.dadosCobranca.bairro = \"Preencha aqui com o seu bairro\";\r\n            if(!dadosCobranca.cidade) erros.dadosCobranca.cidade = \"Preencha aqui com a sua cidade\";\r\n            if(!dadosCobranca.estado) erros.dadosCobranca.estado = \"Selecione o seu estado\";\r\n            if(!dadosCobranca.CEP || dadosCobranca.CEP.length !== 9) erros.dadosCobranca.CEP = \"Digite aqui seu CEP\";\r\n        }\r\n\r\n        this.setState({ erros });\r\n        return ( Object.keys(erros).length === 1 && Object.keys(erros.dadosCobranca).length === 0 );\r\n    }\r\n\r\n    onChange = (field, value, prefix) => \r\n        this.props.setForm({ [field]: value }, prefix).then(() => this.validate());\r\n\r\n    onChangeCEP = (field, value, prefix) => {\r\n        this.props.setForm({ [field]: value }, prefix).then(() => {\r\n            this.validate();\r\n            if(value.length === 9){\r\n                axios.get(`https://viacep.com.br/ws/${value.replace('-','')}/json/unicode`)\r\n                .then((response)=>{\r\n                    this.props.setForm({\r\n                        \"local\": response.data[\"logradouro\"],\r\n                        \"bairro\": response.data[\"bairro\"],\r\n                        \"cidade\": response.data[\"localidade\"],\r\n                        \"estado\": response.data[\"uf\"]\r\n                    }, prefix).then(() => this.validate());\r\n                })\r\n                .catch(e => console.log(e));\r\n            }\r\n        });\r\n    };\r\n\r\n    renderDadosDeEntrega(){\r\n        if(!this.props.form) return null;\r\n        const { \r\n            dadosEntregaIgualDadosCobranca,\r\n            local,\r\n            numero,\r\n            bairro,\r\n            complemento,\r\n            cidade,\r\n            estado,\r\n            CEP\r\n        } = this.props.form;\r\n        const { erros } = this.state;\r\n        return (\r\n            <div className=\"flex-1 flex vertical\">\r\n                <div>\r\n                    <h2>DADOS DE ENTREGA</h2>\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                    <FormSimples \r\n                        value={CEP || \"\"} \r\n                        erro={erros.CEP}\r\n                        name=\"CEP\" \r\n                        placeholder=\"12345-789\" \r\n                        label=\"CEP\" \r\n                        onChange={(e) => this.onChangeCEP(\"CEP\", formatCEP(e.target.value))} />\r\n                </div>   \r\n                <div className=\"flex-1 flex horizontal\">\r\n                    <div className=\"flex-1 flex\">\r\n                        <FormSimples \r\n                            value={local || \"\"}  \r\n                            erro={erros.local}\r\n                            name=\"local\" \r\n                            placeholder=\"Rua, Avenida, ...\" \r\n                            label=\"Endereço (Rua, Avenida,..)\" \r\n                            onChange={(e) => this.onChange(\"local\", e.target.value)} />\r\n                    </div> \r\n                    <div className=\"flex-1 flex\">\r\n                        <FormSimples \r\n                            value={numero || \"\"}  \r\n                            erro={erros.numero}\r\n                            name=\"numero\" \r\n                            placeholder=\"9999\" \r\n                            label=\"Número\" \r\n                            onChange={(e) => this.onChange(\"numero\", formatNumber(e.target.value))} />\r\n                    </div> \r\n                </div>\r\n                <div className=\"flex-1 flex horizontal\">\r\n                    <div className=\"flex-1 flex\">\r\n                        <FormSimples \r\n                            value={bairro || \"\"}                              \r\n                            erro={erros.bairro}\r\n                            name=\"bairro\" \r\n                            placeholder=\"Bairro\" \r\n                            label=\"Bairro\" \r\n                            onChange={(e) => this.onChange(\"bairro\", e.target.value)} />\r\n                    </div> \r\n                    <div className=\"flex-1 flex\">\r\n                        <FormSimples \r\n                            value={complemento || \"\"}  \r\n                            erro={erros.complemento}\r\n                            name=\"complemento\" \r\n                            placeholder=\"Complemento\" \r\n                            label=\"Complemento\" \r\n                            onChange={(e) => this.onChange(\"complemento\", e.target.value)} />\r\n                    </div> \r\n                </div>\r\n                <div className=\"flex-1 flex horizontal\">\r\n                    <div className=\"flex-1 flex\">\r\n                        <FormSimples \r\n                            value={cidade || \"\"} \r\n                            erro={erros.cidade}\r\n                            name=\"cidade\" \r\n                            placeholder=\"Cidade\" \r\n                            label=\"Cidade\" \r\n                            onChange={(e) => this.onChange(\"cidade\", e.target.value)} />\r\n                    </div> \r\n                    <div className=\"flex-1 flex vertical form-input\">\r\n                        <label>Estado</label>\r\n                        <select value={estado} onChange={(e) => this.onChange(\"estado\", e.target.value)} >\r\n                            <option>Selecione...</option>\r\n                            { Object.keys(ESTADOS).map((abbr) => (<option key={abbr} value={abbr}>{ESTADOS[abbr]}</option>)) }\r\n                        </select>\r\n                        { erros.estado && (<small className=\"erro\">{erros.estado}</small>) }\r\n                    </div> \r\n                </div>   \r\n                <br />\r\n                <div>\r\n                    <input \r\n//                        checked={dadosEntregaIgualDadosCobranca || true} \r\n                        checked={dadosEntregaIgualDadosCobranca} \r\n                        type=\"checkbox\"\r\n                        onChange={() => this.props.setForm({ \"dadosEntregaIgualDadosCobranca\": !dadosEntregaIgualDadosCobranca })} />\r\n                    <label>&nbsp;Os dados de entrega são iguais aos dados de cobrança</label>\r\n                </div>             \r\n            </div>\r\n        )\r\n    }\r\n\r\n    renderDadosDeCobranca(){\r\n        if(!this.props.form || !this.props.form.dadosCobranca) return null;\r\n        const { \r\n            local,\r\n            numero,\r\n            bairro,\r\n            complemento,\r\n            cidade,\r\n            estado,\r\n            CEP\r\n        } = this.props.form.dadosCobranca;\r\n        const { erros } = this.state;\r\n        return (\r\n            <div className=\"flex-1 flex vertical\">\r\n                <div>\r\n                    <h2>DADOS DE COBRANÇA</h2>\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                    <FormSimples \r\n                        value={CEP || \"\"}\r\n                        erro={erros.dadosCobranca.CEP} \r\n                        name=\"CEP\" \r\n                        placeholder=\"12345-789\" \r\n                        label=\"CEP\" \r\n                        onChange={(e) => this.onChangeCEP(\"CEP\", formatCEP(e.target.value), 'dadosCobranca')} />\r\n                </div>   \r\n                <div className=\"flex-1 flex horizontal\">\r\n                    <div className=\"flex-1 flex\">\r\n                        <FormSimples \r\n                            value={local || \"\"} \r\n                            erro={erros.dadosCobranca.local} \r\n                            name=\"local\" \r\n                            placeholder=\"Rua, Avenida, ...\" \r\n                            label=\"Endereço (Rua, Avenida,..)\" \r\n                            onChange={(e) => this.onChange(\"local\", e.target.value, 'dadosCobranca')} />\r\n                    </div> \r\n                    <div className=\"flex-1 flex\">\r\n                        <FormSimples \r\n                            value={numero || \"\"} \r\n                            erro={erros.dadosCobranca.numero} \r\n                            name=\"numero\" \r\n                            placeholder=\"9999\" \r\n                            label=\"Número\" \r\n                            onChange={(e) => this.onChange(\"numero\", formatNumber(e.target.value), 'dadosCobranca')} />\r\n                    </div> \r\n                </div>\r\n                <div className=\"flex-1 flex horizontal\">\r\n                    <div className=\"flex-1 flex\">\r\n                        <FormSimples \r\n                            value={bairro || \"\"} \r\n                            erro={erros.dadosCobranca.bairro} \r\n                            name=\"bairro\" \r\n                            placeholder=\"Bairro\" \r\n                            label=\"Bairro\" \r\n                            onChange={(e) => this.onChange(\"bairro\", e.target.value, 'dadosCobranca')} />\r\n                    </div> \r\n                    <div className=\"flex-1 flex\">\r\n                        <FormSimples \r\n                            value={complemento || \"\"} \r\n                            erro={erros.dadosCobranca.complemento} \r\n                            name=\"complemento\" \r\n                            placeholder=\"Complemento\" \r\n                            label=\"Complemento\" \r\n                            onChange={(e) => this.onChange(\"complemento\", e.target.value, 'dadosCobranca')} />\r\n                    </div> \r\n                </div>\r\n                <div className=\"flex-1 flex horizontal\">\r\n                    <div className=\"flex-1 flex\">\r\n                        <FormSimples \r\n                            value={cidade || \"\"} \r\n                            erro={erros.dadosCobranca.cidade} \r\n                            name=\"cidade\" \r\n                            placeholder=\"Cidade\" \r\n                            label=\"Cidade\" \r\n                            onChange={(e) => this.onChange(\"cidade\", e.target.value, 'dadosCobranca')} />\r\n                    </div> \r\n                    <div className=\"flex-1 flex vertical form-input\">\r\n                        <label>Estado</label>\r\n                        <select value={estado} onChange={(e) => this.onChange(\"estado\", e.target.value, 'dadosCobranca')} >\r\n                            <option>Selecione...</option>\r\n                            { Object.keys(ESTADOS).map((abbr) => (<option key={abbr} value={abbr}>{ESTADOS[abbr]}</option>)) }\r\n                        </select>\r\n                        { erros.dadosCobranca.estado && (<small className=\"erro\">{erros.dadosCobranca.estado}</small>) }\r\n                    </div> \r\n                </div>         \r\n            </div>\r\n        )\r\n    }\r\n\r\n    render(){\r\n        const { dadosEntregaIgualDadosCobranca } = this.props.form;\r\n        return(\r\n            <div className=\"flex-1\">\r\n                { this.renderDadosDeEntrega() }\r\n                { !dadosEntregaIgualDadosCobranca && this.renderDadosDeCobranca() }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    usuario: state.auth.usuario,\r\n    cliente: state.cliente.cliente,\r\n    form: state.checkout.form\r\n});\r\n\r\nexport default connect(mapStateToProps, actions)(DadosEntregaContainer);"]},"metadata":{},"sourceType":"module"}