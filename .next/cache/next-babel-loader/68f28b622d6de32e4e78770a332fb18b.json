{"ast":null,"code":"import axios from 'axios';\nimport { FETCH_PRODUTOS, FETCH_PESQUISA, FETCH_PRODUTOS_PESQUISA, FETCH_PRODUTO, FETCH_PRODUTO_AVALIACOES, FETCH_PRODUTO_VARIACOES, NOVA_AVALIACAO } from '../types';\nimport { API, versao, loja } from '../../config';\nimport { getHeaders } from './helpers';\nexport var fetchProdutosPaginaInicial = function fetchProdutosPaginaInicial() {\n  return function (dispatch) {\n    axios.get(\"\".concat(API, \"/\").concat(versao, \"/api/produtos/disponiveis?loja=\").concat(loja, \"&offset=\", 0, \"&limit=\", 4, \"&sortType=\", \"preco-crescente\")).then(function (response) {\n      return dispatch({\n        type: FETCH_PRODUTOS,\n        payload: response.data\n      });\n    })[\"catch\"](function (e) {\n      return console.log(e);\n    });\n  };\n};\nexport var fetchTermo = function fetchTermo(termo) {\n  return {\n    type: FETCH_PESQUISA,\n    termo: termo\n  };\n};\nexport var fetchProdutosPesquisa = function fetchProdutosPesquisa(termo) {\n  var atual = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var limit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 20;\n  return function (dispatch) {\n    axios.get(\"\".concat(API, \"/\").concat(versao, \"/api/produtos/search/\").concat(termo, \"?loja=\").concat(loja, \"&offset=\").concat(atual, \"&limit=\").concat(limit)).then(function (response) {\n      return dispatch({\n        type: FETCH_PRODUTOS_PESQUISA,\n        payload: response.data,\n        termo: termo\n      });\n    })[\"catch\"](function (e) {\n      return console.log(e);\n    });\n  };\n};\nexport var fetchProduto = function fetchProduto(id) {\n  return function (dispatch) {\n    axios.get(\"\".concat(API, \"/\").concat(versao, \"/api/produtos/\").concat(id, \"?loja=\").concat(loja)).then(function (response) {\n      return dispatch({\n        type: FETCH_PRODUTO,\n        payload: response.data\n      });\n    })[\"catch\"](function (e) {\n      return console.log(e);\n    });\n  };\n};\nexport var fetchAvaliacoes = function fetchAvaliacoes(id) {\n  return function (dispatch) {\n    axios.get(\"\".concat(API, \"/\").concat(versao, \"/api/produtos/\").concat(id, \"/avaliacoes?loja=\").concat(loja, \"&id=\").concat(id)).then(function (response) {\n      return dispatch({\n        type: FETCH_PRODUTO_AVALIACOES,\n        payload: response.data\n      });\n    })[\"catch\"](function (e) {\n      return console.log(e);\n    });\n  };\n};\nexport var fetchVariacoes = function fetchVariacoes(id) {\n  return function (dispatch) {\n    axios.get(\"\".concat(API, \"/\").concat(versao, \"/api/produtos/\").concat(id, \"/variacoes?loja=\").concat(loja, \"&id=\").concat(id)).then(function (response) {\n      return dispatch({\n        type: FETCH_PRODUTO_VARIACOES,\n        payload: response.data\n      });\n    })[\"catch\"](function (e) {\n      return console.log(e);\n    });\n  };\n};\nexport var novaAvaliacao = function novaAvaliacao(_ref, cb) {\n  var nome = _ref.nome,\n      token = _ref.token,\n      produto = _ref.produto,\n      texto = _ref.texto,\n      pontuacao = _ref.pontuacao;\n  return function (dispatch) {\n    axios.post(\"\".concat(API, \"/\").concat(versao, \"/api/avaliacoes?loja=\").concat(loja, \"&produto=\").concat(produto), {\n      nome: nome,\n      texto: texto,\n      pontuacao: pontuacao\n    }, getHeaders(token)).then(function (response) {\n      dispatch({\n        type: NOVA_AVALIACAO,\n        payload: response.data\n      });\n      cb(null);\n    })[\"catch\"](function (e) {\n      return cb(e);\n    });\n  };\n};\nexport default {\n  fetchProdutosPaginaInicial: fetchProdutosPaginaInicial,\n  fetchTermo: fetchTermo,\n  fetchProdutosPesquisa: fetchProdutosPesquisa,\n  fetchProduto: fetchProduto,\n  fetchAvaliacoes: fetchAvaliacoes,\n  fetchVariacoes: fetchVariacoes,\n  novaAvaliacao: novaAvaliacao\n};","map":{"version":3,"sources":["F:/ASSESSOR_ECO/ECO_LOJ/redux/actions/produtoActions.js"],"names":["axios","FETCH_PRODUTOS","FETCH_PESQUISA","FETCH_PRODUTOS_PESQUISA","FETCH_PRODUTO","FETCH_PRODUTO_AVALIACOES","FETCH_PRODUTO_VARIACOES","NOVA_AVALIACAO","API","versao","loja","getHeaders","fetchProdutosPaginaInicial","dispatch","get","then","response","type","payload","data","e","console","log","fetchTermo","termo","fetchProdutosPesquisa","atual","limit","fetchProduto","id","fetchAvaliacoes","fetchVariacoes","novaAvaliacao","cb","nome","token","produto","texto","pontuacao","post"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport {\r\n    FETCH_PRODUTOS,\r\n    FETCH_PESQUISA,\r\n    FETCH_PRODUTOS_PESQUISA,\r\n    FETCH_PRODUTO,\r\n    FETCH_PRODUTO_AVALIACOES,\r\n    FETCH_PRODUTO_VARIACOES,\r\n    NOVA_AVALIACAO\r\n} from '../types';\r\nimport { API, versao, loja } from '../../config';\r\n\r\nimport { getHeaders } from './helpers';\r\n\r\nexport const fetchProdutosPaginaInicial = () => (dispatch) => {\r\n    axios.get(`${API}/${versao}/api/produtos/disponiveis?loja=${loja}&offset=${0}&limit=${4}&sortType=${\"preco-crescente\"}`)\r\n    .then((response) => dispatch({ type: FETCH_PRODUTOS, payload: response.data }))\r\n    .catch(e => console.log(e));\r\n}\r\n\r\nexport const fetchTermo = (termo) => ({ type: FETCH_PESQUISA, termo });\r\n\r\nexport const fetchProdutosPesquisa = (termo, atual = 0, limit = 20) => dispatch => {\r\n    axios.get(`${API}/${versao}/api/produtos/search/${termo}?loja=${loja}&offset=${atual}&limit=${limit}`)\r\n    .then((response) => dispatch({ type: FETCH_PRODUTOS_PESQUISA, payload: response.data, termo }))\r\n    .catch(e => console.log(e));\r\n}\r\n\r\nexport const fetchProduto = (id) => dispatch => {\r\n    axios.get(`${API}/${versao}/api/produtos/${id}?loja=${loja}`)\r\n    .then((response) => dispatch({ type: FETCH_PRODUTO, payload: response.data }))\r\n    .catch(e => console.log(e));\r\n}\r\n\r\nexport const fetchAvaliacoes = (id) => dispatch => {\r\n    axios.get(`${API}/${versao}/api/produtos/${id}/avaliacoes?loja=${loja}&id=${id}`)\r\n    .then((response) => dispatch({ type: FETCH_PRODUTO_AVALIACOES, payload: response.data }))\r\n    .catch(e => console.log(e));\r\n}\r\n\r\nexport const fetchVariacoes = (id) => dispatch => {\r\n    axios.get(`${API}/${versao}/api/produtos/${id}/variacoes?loja=${loja}&id=${id}`)\r\n    .then((response) => dispatch({ type: FETCH_PRODUTO_VARIACOES, payload: response.data }))\r\n    .catch(e => console.log(e));\r\n}\r\n\r\nexport const novaAvaliacao = ({ nome, token, produto, texto, pontuacao }, cb) => dispatch => {\r\n    axios.post(\r\n        `${API}/${versao}/api/avaliacoes?loja=${loja}&produto=${produto}`,\r\n        { nome, texto, pontuacao },\r\n        getHeaders(token)\r\n    ).then(response => {\r\n        dispatch({ type: NOVA_AVALIACAO, payload: response.data });\r\n        cb(null);\r\n    }).catch(e => cb(e));\r\n}\r\n\r\nexport default {\r\n    fetchProdutosPaginaInicial,\r\n    fetchTermo,\r\n    fetchProdutosPesquisa,\r\n    fetchProduto,\r\n    fetchAvaliacoes,\r\n    fetchVariacoes,\r\n    novaAvaliacao\r\n};"]},"metadata":{},"sourceType":"module"}