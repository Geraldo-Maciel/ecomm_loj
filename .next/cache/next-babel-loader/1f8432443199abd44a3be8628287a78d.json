{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"F:\\\\ASSESSOR_ECO\\\\ECO_LOJ\\\\containers\\\\Produto\\\\Avaliacoes.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport actions from '../../redux/actions';\nimport Link from 'next/link';\n\nvar Avaliacoes = /*#__PURE__*/function (_Component) {\n  _inherits(Avaliacoes, _Component);\n\n  var _super = _createSuper(Avaliacoes);\n\n  function Avaliacoes() {\n    var _this;\n\n    _classCallCheck(this, Avaliacoes);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      texto: \"\",\n      pontuacao: 5\n    });\n\n    return _this;\n  }\n\n  _createClass(Avaliacoes, [{\n    key: \"renderAvaliacoes\",\n    value: function renderAvaliacoes() {\n      var _this2 = this;\n\n      var avaliacoes = this.props.avaliacoes;\n      return __jsx(\"div\", {\n        className: \"avaliacoes-items flex horizontal wrap no-wrap-mb\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 15,\n          columnNumber: 13\n        }\n      }, avaliacoes.map(function (avaliacao) {\n        return __jsx(\"div\", {\n          key: avaliacao._id,\n          className: \"avaliacao flex-1 flex vertical wrap-3\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 18,\n            columnNumber: 25\n          }\n        }, __jsx(\"div\", {\n          className: \"avaliacao-texto flex-3 flex texto\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 21,\n            columnNumber: 29\n          }\n        }, __jsx(\"p\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 22,\n            columnNumber: 33\n          }\n        }, avaliacao.texto)), __jsx(\"div\", {\n          className: \"avaliacao-dados flex\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 24,\n            columnNumber: 29\n          }\n        }, __jsx(\"div\", {\n          className: \"avaliacao-nome flex-1 flex\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 33\n          }\n        }, __jsx(\"small\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 26,\n            columnNumber: 37\n          }\n        }, avaliacao.nome)), __jsx(\"div\", {\n          className: \"avaliacao-pontuacao flex-1 flex\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 33\n          }\n        }, __jsx(\"span\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 37\n          }\n        }, _toConsumableArray(Array(avaliacao.pontuacao).keys()).map(function (i, idx) {\n          return __jsx(\"i\", {\n            key: idx,\n            className: \"fa fa-star\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 32,\n              columnNumber: 49\n            }\n          });\n        })))));\n      }));\n    }\n  }, {\n    key: \"submitAvaliacao\",\n    value: function submitAvaliacao() {\n      var _this3 = this;\n\n      var _this$state = this.state,\n          texto = _this$state.texto,\n          pontuacao = _this$state.pontuacao;\n      var _this$props = this.props,\n          produto = _this$props.produto,\n          token = _this$props.token,\n          usuario = _this$props.usuario;\n      if (!texto || !produto) alert(\"Preencha o campo de texto da avaliação.\");\n      this.props.novaAvaliacao({\n        nome: usuario.nome,\n        token: token,\n        produto: produto._id,\n        texto: texto,\n        pontuacao: pontuacao\n      }, function (err) {\n        if (err) alert(\"Ocorreu um erro, tente novamente.\");else _this3.setState({\n          texto: \"\",\n          pontuacao: 5\n        });\n      });\n    }\n  }, {\n    key: \"renderFormularioDeAvaliacoes\",\n    value: function renderFormularioDeAvaliacoes() {\n      var _this4 = this;\n\n      return __jsx(\"div\", {\n        className: \"avaliacoes-form\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }\n      }, __jsx(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }\n      }, \"Envie sua avalia\\xE7\\xE3o para o produto:\"), __jsx(\"div\", {\n        className: \"flex vertical\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }\n      }, __jsx(\"div\", {\n        className: \"flex horizontal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }\n      }, __jsx(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }\n      }, \"Pontua\\xE7\\xE3o:\\xA0\"), __jsx(\"select\", {\n        value: this.state.pontuacao,\n        onChange: function onChange(e) {\n          return _this4.setState({\n            pontuacao: e.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }\n      }, __jsx(\"option\", {\n        value: \"1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 29\n        }\n      }, \"1 estrela\"), __jsx(\"option\", {\n        value: \"2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 29\n        }\n      }, \"2 estrelas\"), __jsx(\"option\", {\n        value: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 29\n        }\n      }, \"3 estrelas\"), __jsx(\"option\", {\n        value: \"4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 29\n        }\n      }, \"4 estrelas\"), __jsx(\"option\", {\n        value: \"5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 29\n        }\n      }, \"5 estrelas\"))), __jsx(\"div\", {\n        className: \"flex vertical\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }\n      }, __jsx(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 25\n        }\n      }, \"Avalia\\xE7\\xE3o:\"), __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 50\n        }\n      }), __jsx(\"textarea\", {\n        rows: \"3\",\n        style: {\n          resize: \"none\",\n          width: \"100%\",\n          maxWidth: \"500px\"\n        },\n        placeholder: \"Digite aqui a sua avalia\\xE7\\xE3o...\",\n        value: this.state.texto,\n        onChange: function onChange(e) {\n          return _this4.setState({\n            texto: e.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }\n      })), __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }\n      }, __jsx(\"button\", {\n        onClick: function onClick() {\n          return _this4.submitAvaliacao();\n        },\n        className: \"btn btn-primary btn-lg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 25\n        }\n      }, __jsx(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 29\n        }\n      }, \"Enviar Avalia\\xE7\\xE3o\")))));\n    }\n  }, {\n    key: \"renderAvisoLogin\",\n    value: function renderAvisoLogin() {\n      return __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }\n      }, __jsx(Link, {\n        href: \"/area-cliente\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 17\n        }\n      }, __jsx(\"button\", {\n        className: \"btn btn-primary btn-sm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }\n      }, \"CLIQUE AQUI PARA LOGAR E DEIXAR UMA AVALIA\\xC7\\xC3O\")));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(\"div\", {\n        className: \"Avaliacoes flex vertical\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }\n      }, __jsx(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 17\n        }\n      }, \"Avalia\\xE7\\xF5es\"), __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 17\n        }\n      }), this.renderAvaliacoes(), __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 17\n        }\n      }), this.props.token ? this.renderFormularioDeAvaliacoes() : this.renderAvisoLogin());\n    }\n  }]);\n\n  return Avaliacoes;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    produto: state.produto.produto,\n    avaliacoes: state.produto.avaliacoes,\n    token: state.auth.token,\n    usuario: state.auth.usuario\n  };\n};\n\nexport default connect(mapStateToProps, actions)(Avaliacoes);","map":{"version":3,"sources":["F:/ASSESSOR_ECO/ECO_LOJ/containers/Produto/Avaliacoes.js"],"names":["React","Component","connect","actions","Link","Avaliacoes","texto","pontuacao","avaliacoes","props","map","avaliacao","_id","nome","Array","keys","i","idx","state","produto","token","usuario","alert","novaAvaliacao","err","setState","e","target","value","resize","width","maxWidth","submitAvaliacao","renderAvaliacoes","renderFormularioDeAvaliacoes","renderAvisoLogin","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport actions from '../../redux/actions';\r\nimport Link from 'next/link';\r\n\r\nclass Avaliacoes extends Component{\r\n    state = {\r\n        texto: \"\",\r\n        pontuacao: 5\r\n    }\r\n\r\n    renderAvaliacoes(){\r\n        const { avaliacoes } = this.props;\r\n        return (\r\n            <div className=\"avaliacoes-items flex horizontal wrap no-wrap-mb\">\r\n                {\r\n                    avaliacoes.map((avaliacao) => (\r\n                        <div \r\n                            key={avaliacao._id} \r\n                            className=\"avaliacao flex-1 flex vertical wrap-3\">\r\n                            <div className=\"avaliacao-texto flex-3 flex texto\">\r\n                                <p>{avaliacao.texto}</p>\r\n                            </div>\r\n                            <div className=\"avaliacao-dados flex\">\r\n                                <div className=\"avaliacao-nome flex-1 flex\">\r\n                                    <small>{avaliacao.nome}</small>\r\n                                </div>\r\n                                <div className=\"avaliacao-pontuacao flex-1 flex\">\r\n                                    <span>\r\n                                        {\r\n                                            [...Array(avaliacao.pontuacao).keys()].map((i, idx) => (\r\n                                                <i key={idx} className=\"fa fa-star\"></i>\r\n                                            ))\r\n                                        }\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                }                \r\n            </div>\r\n        )\r\n    }\r\n\r\n    submitAvaliacao(){\r\n        const { texto, pontuacao } = this.state;\r\n        const { produto, token, usuario } = this.props;\r\n        if(!texto || !produto) alert(\"Preencha o campo de texto da avaliação.\");\r\n        this.props.novaAvaliacao({ \r\n            nome: usuario.nome, \r\n            token, \r\n            produto: produto._id,\r\n            texto, \r\n            pontuacao\r\n        }, (err) => {\r\n            if(err) alert(\"Ocorreu um erro, tente novamente.\");\r\n            else this.setState({ texto: \"\", pontuacao: 5 });\r\n        });\r\n    }\r\n\r\n    renderFormularioDeAvaliacoes(){\r\n        return (\r\n            <div className=\"avaliacoes-form\">\r\n                <h4>Envie sua avaliação para o produto:</h4>\r\n                <div className=\"flex vertical\">\r\n                    <div className=\"flex horizontal\">\r\n                        <label>Pontuação:&nbsp;</label>\r\n                        <select \r\n                            value={this.state.pontuacao}\r\n                            onChange={(e) => this.setState({ pontuacao: e.target.value })} >\r\n                            <option value=\"1\">1 estrela</option>\r\n                            <option value=\"2\">2 estrelas</option>\r\n                            <option value=\"3\">3 estrelas</option>\r\n                            <option value=\"4\">4 estrelas</option>\r\n                            <option value=\"5\">5 estrelas</option>\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"flex vertical\">\r\n                        <label>Avaliação:</label><br />\r\n                        <textarea \r\n                            rows=\"3\" style={{ resize: \"none\", width: \"100%\", maxWidth: \"500px\" }}\r\n                            placeholder=\"Digite aqui a sua avaliação...\"\r\n                            value={this.state.texto} \r\n                            onChange={(e) => this.setState({ texto: e.target.value })} />\r\n                    </div>\r\n                    <div>\r\n                        <button\r\n                            onClick={() => this.submitAvaliacao()} \r\n                            className=\"btn btn-primary btn-lg\">\r\n                            <span>Enviar Avaliação</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    renderAvisoLogin(){\r\n        return (\r\n            <div>\r\n                <Link href=\"/area-cliente\">\r\n                    <button className=\"btn btn-primary btn-sm\">\r\n                        CLIQUE AQUI PARA LOGAR E DEIXAR UMA AVALIAÇÃO\r\n                    </button>\r\n                </Link>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div className=\"Avaliacoes flex vertical\">\r\n                <h2>Avaliações</h2>\r\n                <br />\r\n                { this.renderAvaliacoes() }\r\n                <br />\r\n                { \r\n                    this.props.token ? \r\n                        this.renderFormularioDeAvaliacoes() : \r\n                        this.renderAvisoLogin() \r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    produto: state.produto.produto,\r\n    avaliacoes: state.produto.avaliacoes,\r\n    token: state.auth.token,\r\n    usuario: state.auth.usuario\r\n});\r\n\r\nexport default connect(mapStateToProps, actions)(Avaliacoes);"]},"metadata":{},"sourceType":"module"}