{"ast":null,"code":"import axios from 'axios';\nimport { API, versao, loja } from '../../config';\nimport { getCart, removeCart, cleanCart } from '../../utils/cart';\nimport { SET_CARRINHO, CLEAN_CARRINHO, FETCH_PRODUTO_CARRINHO, FETCH_VARIACAO_CARRINHO, FETCH_VALOR_ENTREGA, UPDATE_QTD_CART, UPDATE_FRETE_CART, REMOVE_PROD_CART, CLEAN_FRETES } from '../types';\nexport const setCarrinho = () => ({\n  type: SET_CARRINHO,\n  carrinho: getCart()\n});\nexport const cleanCarrinho = () => {\n  console.log('limpar carrinho');\n  cleanCart();\n  return {\n    type: CLEAN_CARRINHO\n  };\n};\nexport const fetchProdutoCarrinho = (id, idxCarrinho) => dispatch => {\n  axios.get(`${API}/${versao}/api/produtos/${id}?loja=${loja}`).then(response => dispatch({\n    type: FETCH_PRODUTO_CARRINHO,\n    payload: response.data,\n    idxCarrinho\n  })).catch(e => console.log(e));\n};\nexport const fetchVariacoesCarrinho = (id, produto, idxCarrinho) => dispatch => {\n  axios.get(`${API}/${versao}/api/variacoes/${id}?produto=${produto}&loja=${loja}`).then(response => dispatch({\n    type: FETCH_VARIACAO_CARRINHO,\n    payload: response.data,\n    idxCarrinho\n  })).catch(e => console.log(e));\n};\nexport const calcularFrete = (cep, carrinho) => dispatch => {\n  axios.post(`${API}/${versao}/api/entregas/calcular`, {\n    cep,\n    carrinho\n  }).then(response => dispatch({\n    type: FETCH_VALOR_ENTREGA,\n    payload: response.data,\n    cep\n  })).catch(e => console.log(e));\n};\nexport const removerProduto = index => {\n  removeCart(index);\n  return {\n    type: REMOVE_PROD_CART,\n    idxCarrinho: index\n  };\n};\nexport const updateQuantidade = (change, index) => ({\n  type: UPDATE_QTD_CART,\n  change,\n  idxCarrinho: index\n});\nexport const selecionarFrete = freteSelecionado => ({\n  type: UPDATE_FRETE_CART,\n  freteSelecionado\n});\nexport const cleanFretes = () => ({\n  type: CLEAN_FRETES\n});\nexport default {\n  setCarrinho,\n  cleanCarrinho,\n  fetchProdutoCarrinho,\n  fetchVariacoesCarrinho,\n  calcularFrete,\n  updateQuantidade,\n  selecionarFrete,\n  removerProduto,\n  cleanFretes\n};","map":{"version":3,"sources":["F:/APLICACAO/lojavirtual/redux/actions/carrinhoActions.js"],"names":["axios","API","versao","loja","getCart","removeCart","cleanCart","SET_CARRINHO","CLEAN_CARRINHO","FETCH_PRODUTO_CARRINHO","FETCH_VARIACAO_CARRINHO","FETCH_VALOR_ENTREGA","UPDATE_QTD_CART","UPDATE_FRETE_CART","REMOVE_PROD_CART","CLEAN_FRETES","setCarrinho","type","carrinho","cleanCarrinho","console","log","fetchProdutoCarrinho","id","idxCarrinho","dispatch","get","then","response","payload","data","catch","e","fetchVariacoesCarrinho","produto","calcularFrete","cep","post","removerProduto","index","updateQuantidade","change","selecionarFrete","freteSelecionado","cleanFretes"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,GAAR,EAAaC,MAAb,EAAqBC,IAArB,QAAgC,cAAhC;AACA,SAAQC,OAAR,EAAiBC,UAAjB,EAA6BC,SAA7B,QAA6C,kBAA7C;AACA,SACIC,YADJ,EAEIC,cAFJ,EAGIC,sBAHJ,EAIIC,uBAJJ,EAKIC,mBALJ,EAMIC,eANJ,EAOIC,iBAPJ,EAQIC,gBARJ,EASIC,YATJ,QAUO,UAVP;AAYA,OAAO,MAAMC,WAAW,GAAG,OAAO;AAACC,EAAAA,IAAI,EAAEV,YAAP;AAAqBW,EAAAA,QAAQ,EAAEd,OAAO;AAAtC,CAAP,CAApB;AAEP,OAAO,MAAMe,aAAa,GAAG,MAAM;AAC/BC,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACAf,EAAAA,SAAS;AACT,SAAO;AAACW,IAAAA,IAAI,EAAET;AAAP,GAAP;AACH,CAJM;AAMP,OAAO,MAAMc,oBAAoB,GAAG,CAACC,EAAD,EAAKC,WAAL,KAAqBC,QAAQ,IAAI;AACjEzB,EAAAA,KAAK,CAAC0B,GAAN,CAAW,GAAEzB,GAAI,IAAGC,MAAO,iBAAgBqB,EAAG,SAAQpB,IAAK,EAA3D,EACCwB,IADD,CACMC,QAAQ,IAAIH,QAAQ,CAAC;AACnBR,IAAAA,IAAI,EAAER,sBADa;AAEnBoB,IAAAA,OAAO,EAAED,QAAQ,CAACE,IAFC;AAGnBN,IAAAA;AAHmB,GAAD,CAD1B,EAMCO,KAND,CAMOC,CAAC,IAAIZ,OAAO,CAACC,GAAR,CAAYW,CAAZ,CANZ;AAOH,CARM;AAUP,OAAO,MAAMC,sBAAsB,GAAG,CAACV,EAAD,EAAKW,OAAL,EAAcV,WAAd,KAA8BC,QAAQ,IAAI;AAC5EzB,EAAAA,KAAK,CAAC0B,GAAN,CAAW,GAAEzB,GAAI,IAAGC,MAAO,kBAAiBqB,EAAG,YAAWW,OAAQ,SAAQ/B,IAAK,EAA/E,EACCwB,IADD,CACOC,QAAQ,IAAIH,QAAQ,CAAC;AACpBR,IAAAA,IAAI,EAAEP,uBADc;AAEpBmB,IAAAA,OAAO,EAAED,QAAQ,CAACE,IAFE;AAGpBN,IAAAA;AAHoB,GAAD,CAD3B,EAMCO,KAND,CAMOC,CAAC,IAAIZ,OAAO,CAACC,GAAR,CAAYW,CAAZ,CANZ;AAOH,CARM;AAUP,OAAO,MAAMG,aAAa,GAAG,CAACC,GAAD,EAAMlB,QAAN,KAAmBO,QAAQ,IAAI;AACxDzB,EAAAA,KAAK,CAACqC,IAAN,CAAY,GAAEpC,GAAI,IAAGC,MAAO,wBAA5B,EAAqD;AAACkC,IAAAA,GAAD;AAAMlB,IAAAA;AAAN,GAArD,EACCS,IADD,CACOC,QAAQ,IAAIH,QAAQ,CAAC;AACpBR,IAAAA,IAAI,EAAEN,mBADc;AAEpBkB,IAAAA,OAAO,EAAED,QAAQ,CAACE,IAFE;AAGpBM,IAAAA;AAHoB,GAAD,CAD3B,EAMCL,KAND,CAMOC,CAAC,IAAIZ,OAAO,CAACC,GAAR,CAAYW,CAAZ,CANZ;AAOH,CARM;AAUP,OAAO,MAAMM,cAAc,GAAIC,KAAD,IAAW;AACrClC,EAAAA,UAAU,CAACkC,KAAD,CAAV;AACA,SAAO;AAACtB,IAAAA,IAAI,EAAEH,gBAAP;AAAyBU,IAAAA,WAAW,EAAEe;AAAtC,GAAP;AACH,CAHM;AAKP,OAAO,MAAMC,gBAAgB,GAAG,CAACC,MAAD,EAASF,KAAT,MAAoB;AAC5BtB,EAAAA,IAAI,EAAEL,eADsB;AAE5B6B,EAAAA,MAF4B;AAG5BjB,EAAAA,WAAW,EAAEe;AAHe,CAApB,CAAzB;AAMP,OAAO,MAAMG,eAAe,GAAIC,gBAAD,KAAuB;AACtB1B,EAAAA,IAAI,EAAEJ,iBADgB;AAEtB8B,EAAAA;AAFsB,CAAvB,CAAxB;AAKP,OAAO,MAAMC,WAAW,GAAG,OAAO;AAAC3B,EAAAA,IAAI,EAAEF;AAAP,CAAP,CAApB;AAEP,eAAe;AACXC,EAAAA,WADW;AAEXG,EAAAA,aAFW;AAGXG,EAAAA,oBAHW;AAIXW,EAAAA,sBAJW;AAKXE,EAAAA,aALW;AAMXK,EAAAA,gBANW;AAOXE,EAAAA,eAPW;AAQXJ,EAAAA,cARW;AASXM,EAAAA;AATW,CAAf","sourcesContent":["import axios from 'axios';\r\nimport {API, versao, loja} from '../../config';\r\nimport {getCart, removeCart, cleanCart} from '../../utils/cart';\r\nimport {\r\n    SET_CARRINHO,\r\n    CLEAN_CARRINHO,\r\n    FETCH_PRODUTO_CARRINHO,\r\n    FETCH_VARIACAO_CARRINHO,\r\n    FETCH_VALOR_ENTREGA,\r\n    UPDATE_QTD_CART,\r\n    UPDATE_FRETE_CART,\r\n    REMOVE_PROD_CART,\r\n    CLEAN_FRETES\r\n} from '../types';\r\n\r\nexport const setCarrinho = () => ({type: SET_CARRINHO, carrinho: getCart()});\r\n\r\nexport const cleanCarrinho = () => {\r\n    console.log('limpar carrinho');\r\n    cleanCart();\r\n    return {type: CLEAN_CARRINHO};\r\n};\r\n\r\nexport const fetchProdutoCarrinho = (id, idxCarrinho) => dispatch => {\r\n    axios.get(`${API}/${versao}/api/produtos/${id}?loja=${loja}`)\r\n    .then(response => dispatch({ \r\n            type: FETCH_PRODUTO_CARRINHO, \r\n            payload: response.data, \r\n            idxCarrinho \r\n    }))\r\n    .catch(e => console.log(e));\r\n};\r\n\r\nexport const fetchVariacoesCarrinho = (id, produto, idxCarrinho) => dispatch => {\r\n    axios.get(`${API}/${versao}/api/variacoes/${id}?produto=${produto}&loja=${loja}`)\r\n    .then (response => dispatch({ \r\n            type: FETCH_VARIACAO_CARRINHO, \r\n            payload: response.data, \r\n            idxCarrinho \r\n    }))\r\n    .catch(e => console.log(e));\r\n};\r\n\r\nexport const calcularFrete = (cep, carrinho) => dispatch => {\r\n    axios.post(`${API}/${versao}/api/entregas/calcular`, {cep, carrinho})\r\n    .then (response => dispatch({ \r\n            type: FETCH_VALOR_ENTREGA, \r\n            payload: response.data, \r\n            cep\r\n    }))\r\n    .catch(e => console.log(e));\r\n};\r\n\r\nexport const removerProduto = (index) => {\r\n    removeCart(index);\r\n    return {type: REMOVE_PROD_CART, idxCarrinho: index};\r\n};\r\n\r\nexport const updateQuantidade = (change, index) => ({ \r\n                        type: UPDATE_QTD_CART, \r\n                        change, \r\n                        idxCarrinho: index \r\n                    });\r\n\r\nexport const selecionarFrete = (freteSelecionado) => ({\r\n                                type: UPDATE_FRETE_CART,\r\n                                freteSelecionado\r\n                            });   \r\n                            \r\nexport const cleanFretes = () => ({type: CLEAN_FRETES});\r\n\r\nexport default {\r\n    setCarrinho,\r\n    cleanCarrinho,\r\n    fetchProdutoCarrinho,\r\n    fetchVariacoesCarrinho,\r\n    calcularFrete,\r\n    updateQuantidade,\r\n    selecionarFrete,\r\n    removerProduto,\r\n    cleanFretes\r\n};"]},"metadata":{},"sourceType":"module"}